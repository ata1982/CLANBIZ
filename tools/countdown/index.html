<!DOCTYPE html>
<html lang="ja">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta name="description" content="まえゆきツールのカウントダウンタイマー - 日付や時間を指定して、イベントまでの残り時間をカウントダウン表示できる無料ツールです。">
   <title>カスタムタイマー | まえゆきツール</title>

   <!-- リソースの先読み -->
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

   <!-- クリティカルCSS インライン化 -->
   <style>
     :root{--primary:#0066ff;--secondary:#ff3a3a;--accent:#ff9500;--dark-blue:#0d3283;--light-bg:#f8f9fa;--text-dark:#333;--text-mid:#555;--header-h:60px}*,::after,::before{box-sizing:border-box;margin:0;padding:0}body{font:16px/1.6 'Noto Sans JP',sans-serif;color:var(--text-dark);background:#fff;overflow-x:hidden;display:flex;flex-direction:column;min-height:100vh;-webkit-text-size-adjust:100%}img{max-width:100%;height:auto;vertical-align:middle;border:0}a{text-decoration:none;color:inherit}ul{list-style:none}main{flex:1 0 auto}.site-header{position:fixed;top:0;left:0;width:100%;z-index:1000;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.1);height:var(--header-h);display:flex;align-items:center}.header-container{max-width:1200px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.site-logo-text{font-weight:700;font-size:20px}.site-logo-text a{color:var(--dark-blue)}.hamburger-button{display:block;width:30px;height:30px;position:relative;z-index:1001;border:0;background:0;cursor:pointer}.hamburger-button span{display:block;position:absolute;width:100%;height:2px;background:var(--text-dark);left:0}.hamburger-button span:nth-child(1){top:8px}.hamburger-button span:nth-child(2){top:14px}.hamburger-button span:nth-child(3){bottom:8px}

     /* カスタムタイマーツールスタイル */
     .app-wrapper {
         padding: 80px 0 40px;
         margin-top: var(--header-h);
         background: linear-gradient(to bottom, #f0f0f0 0%, #e0e0e0 100%); /* 背景グラデーション変更 */
     }
     .app-container {
         max-width: 720px; /* 最大幅を少し狭く */
         margin: 0 auto;
         padding: 0 20px;
     }
     .app-title {
         font-size: 32px; /* タイトルフォントサイズ変更 */
         font-weight: 800; /* 太字 */
         text-align: center;
         margin-bottom: 0.5rem; /* 余白調整 */
         color: var(--dark-blue); /* タイトル色変更 */
         text-shadow: 1px 1px 2px rgba(0,0,0,0.1); /* 影を追加 */
     }
     .app-description {
         text-align: center;
         font-size: 18px; /* フォントサイズ変更 */
         color: #666; /* テキスト色変更 */
         margin-bottom: 2.5rem; /* 余白調整 */
     }

     /* タイマー表示エリア */
     .display-box {
         background: #ffffff;
         border-radius: 15px; /* 角丸を大きく */
         padding: 40px 30px; /* パディング変更 */
         box-shadow: 0 8px 15px rgba(0,0,0,0.15); /* 影を強調 */
         text-align: center;
         margin-bottom: 30px;
         border: 1px solid #ddd; /* ボーダー追加 */
     }
     .display-title {
         font-size: 28px; /* フォントサイズ変更 */
         font-weight: 700;
         margin-bottom: 5px; /* 余白調整 */
         color: var(--text-dark);
     }
     .display-subtitle {
         font-size: 18px; /* フォントサイズ変更 */
         color: var(--text-mid);
         margin-bottom: 25px; /* 余白調整 */
     }
     .timer-panels {
         display: flex;
         justify-content: center;
         gap: 25px; /* 単位間のスペース変更 */
         margin-bottom: 30px; /* 余白変更 */
     }
     .panel-unit {
         display: flex;
         flex-direction: column;
         align-items: center;
         min-width: 90px; /* 最小幅を大きく */
     }
     .panel-value {
         font-family: 'Arial Black', sans-serif; /* フォント変更 */
         font-size: 48px; /* フォントサイズ大きく */
         font-weight: 900; /* 太字を強調 */
         background: #f2f2f2; /* 背景色変更 */
         border-radius: 10px; /* 角丸変更 */
         width: 100%;
         padding: 15px 0; /* パディング変更 */
         margin-bottom: 8px; /* 余白変更 */
         border: 2px solid #ccc; /* ボーダー追加 */
         color: var(--primary); /* テーマカラー適用 */
     }
     .panel-label {
         font-size: 15px; /* フォントサイズ変更 */
         color: #555;
         font-weight: 700; /* ラベルも太字に */
     }
     .completion-message {
         font-size: 32px; /* フォントサイズ大きく */
         font-weight: 800; /* 太字 */
         color: var(--secondary);
         margin: 40px 0; /* 余白大きく */
         display: none;
         text-shadow: 1px 1px 3px rgba(255, 58, 58, 0.3); /* 影を追加 */
     }
     .control-buttons {
         margin-top: 20px;
         display: flex;
         justify-content: center;
         gap: 15px; /* ボタン間のスペース変更 */
     }
     .app-btn {
         padding: 12px 25px; /* パディング変更 */
         border-radius: 25px; /* 角丸変更 */
         font-weight: 700;
         cursor: pointer;
         transition: all 0.3s ease; /* トランジション変更 */
         border: none;
         font-size: 17px; /* フォントサイズ変更 */
         box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* 影を追加 */
     }
     .btn-action {
         background: var(--primary);
         color: white;
     }
     .btn-action:hover {
         background: var(--dark-blue); /* ホバー色変更 */
         box-shadow: 0 4px 8px rgba(0,0,0,0.2);
     }
     .btn-secondary {
         background: #eee; /* 背景色変更 */
         color: var(--text-dark);
         border: 1px solid #ccc; /* ボーダー変更 */
     }
     .btn-secondary:hover {
         background: #ddd; /* ホバー色変更 */
         border-color: #bbb;
         box-shadow: 0 4px 8px rgba(0,0,0,0.2);
     }

     /* 設定フォーム */
     .config-panel {
         background: #ffffff;
         border-radius: 15px; /* 角丸を大きく */
         padding: 30px;
         box-shadow: 0 8px 15px rgba(0,0,0,0.15); /* 影を強調 */
         margin-bottom: 30px;
         border: 1px solid #ddd; /* ボーダー追加 */
     }
     .config-title {
         font-size: 20px; /* フォントサイズ変更 */
         font-weight: 700;
         margin-bottom: 20px;
         padding-bottom: 10px;
         border-bottom: 2px solid var(--primary); /* ボーダー色変更 */
         color: var(--text-dark);
     }
     .config-form {
         display: grid;
         gap: 20px;
     }
     .form-group {
         display: flex;
         flex-direction: column;
         gap: 8px;
     }
     .form-label {
         font-weight: 700;
         color: #555; /* ラベル色変更 */
         font-size: 15px; /* ラベルフォントサイズ */
     }
     .form-input, .form-select {
         padding: 12px; /* パディング変更 */
         border: 1px solid #ccc; /* ボーダー変更 */
         border-radius: 8px; /* 角丸変更 */
         font-size: 16px;
         width: 100%;
         background-color: #f9f9f9; /* 背景色変更 */
     }
     .form-input:focus, .form-select:focus {
         border-color: var(--primary);
         outline: none;
         background-color: #fff;
         box-shadow: 0 0 5px rgba(var(--primary), 0.3); /* フォーカス時の影 */
     }
     .config-row {
         display: grid;
         grid-template-columns: 1fr 1fr;
         gap: 20px; /* 隙間変更 */
     }
     .form-actions {
         display: flex;
         justify-content: flex-end;
         gap: 10px;
         margin-top: 15px; /* 余白変更 */
     }

     /* シェアセクション */
     .share-box {
         background: #ffffff;
         border-radius: 15px; /* 角丸を大きく */
         padding: 30px;
         box-shadow: 0 8px 15px rgba(0,0,0,0.15); /* 影を強調 */
         margin-bottom: 30px;
         border: 1px solid #ddd; /* ボーダー追加 */
     }
     .share-title {
         font-size: 20px; /* フォントサイズ変更 */
         font-weight: 700;
         margin-bottom: 20px;
         padding-bottom: 10px;
         border-bottom: 2px solid var(--primary); /* ボーダー色変更 */
         color: var(--text-dark);
     }
     .share-url-area {
         display: flex;
         gap: 10px;
         margin-bottom: 15px;
         align-items: center; /* 縦位置中央寄せ */
     }
     .share-input-field {
         flex: 1;
         padding: 10px;
         border: 1px solid #ccc; /* ボーダー変更 */
         border-radius: 6px; /* 角丸変更 */
         font-size: 14px;
         background-color: #f9f9f9; /* 背景色変更 */
     }
     .share-info-text {
        font-size: 14px;
        color: #666;
        margin-bottom: 15px;
     }
     .share-social-buttons {
         display: flex;
         gap: 10px;
         margin-top: 15px;
     }
     .social-button {
         display: flex;
         align-items: center;
         justify-content: center;
         width: 40px;
         height: 40px;
         border-radius: 50%;
         transition: transform 0.2s ease, box-shadow 0.2s ease; /* トランジション変更 */
         box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* 影を追加 */
     }
     .social-button:hover {
         transform: translateY(-3px); /* ホバーアニメーション変更 */
         box-shadow: 0 4px 8px rgba(0,0,0,0.2);
     }
     .share-twitter { background: #1DA1F2; }
     .share-facebook { background: #1877F2; }
     .share-line { background: #06C755; }

     /* プリセットセクション */
     .preset-options {
         background: #ffffff;
         border-radius: 15px; /* 角丸を大きく */
         padding: 30px;
         box-shadow: 0 8px 15px rgba(0,0,0,0.15); /* 影を強調 */
         margin-bottom: 30px;
         border: 1px solid #ddd; /* ボーダー追加 */
     }
     .preset-title {
         font-size: 20px; /* フォントサイズ変更 */
         font-weight: 700;
         margin-bottom: 15px;
         padding-bottom: 10px;
         border-bottom: 2px solid var(--primary); /* ボーダー色変更 */
         color: var(--text-dark);
     }
     .preset-list {
         display: flex;
         flex-wrap: wrap;
         gap: 10px;
     }
     .preset-link {
         display: inline-block;
         padding: 8px 16px;
         background: #f0f0f0; /* 背景色変更 */
         border: 1px solid #ccc; /* ボーダー追加 */
         border-radius: 20px; /* 角丸 */
         font-size: 14px;
         transition: all 0.2s ease; /* トランジション変更 */
         color: var(--text-dark);
     }
     .preset-link:hover {
         background: var(--primary);
         color: white;
         border-color: var(--primary);
         transform: translateY(-2px);
     }

     /* ツール使い方 */
     .guide-section {
         background: #ffffff;
         border-radius: 15px; /* 角丸を大きく */
         padding: 30px;
         box-shadow: 0 8px 15px rgba(0,0,0,0.15); /* 影を強調 */
         margin-bottom: 30px;
         border: 1px solid #ddd; /* ボーダー追加 */
     }
     .guide-title {
         font-size: 20px; /* フォントサイズ変更 */
         font-weight: 700;
         margin-bottom: 15px;
         padding-bottom: 10px;
         border-bottom: 2px solid var(--primary); /* ボーダー色変更 */
         color: var(--text-dark);
     }
     .guide-list {
         padding-left: 20px;
         list-style: none; /* デフォルトのリストスタイル削除 */
     }
     .guide-item {
         margin-bottom: 10px; /* 余白変更 */
         position: relative;
         padding-left: 20px; /* 左の余白調整 */
         line-height: 1.7; /* 行間調整 */
     }
     .guide-item::before {
         content: "→"; /* 箇条書きマーカー変更 */
         position: absolute;
         left: 0;
         color: var(--primary);
         font-weight: bold;
     }

     /* 他のツールリンク */
     .related-tools {
         margin-top: 40px;
     }
     .related-tools-title {
         font-size: 20px; /* フォントサイズ変更 */
         font-weight: 700; /* 太字 */
         margin-bottom: 20px; /* 余白変更 */
         text-align: center;
         color: var(--text-dark);
     }
     .tool-navigation-list {
         display: flex;
         flex-wrap: wrap;
         gap: 12px; /* 隙間変更 */
         justify-content: center;
     }
     .tool-nav-link {
         display: inline-block;
         padding: 10px 18px; /* パディング変更 */
         background: white;
         border-radius: 25px; /* 角丸変更 */
         border: 1px solid #ddd; /* ボーダー変更 */
         font-size: 15px; /* フォントサイズ変更 */
         transition: all 0.2s ease;
         color: var(--dark-blue); /* 色変更 */
         box-shadow: 0 2px 5px rgba(0,0,0,0.08); /* 影を追加 */
     }
     .tool-nav-link:hover {
         background: var(--primary);
         color: white;
         border-color: var(--primary);
         transform: translateY(-2px);
         box-shadow: 0 4px 8px rgba(0,0,0,0.15);
     }

     /* テーマカラーCSS */
     body.theme-blue { --primary: #0066ff; }
     body.theme-red { --primary: #ff3a3a; }
     body.theme-green { --primary: #06C755; }
     body.theme-purple { --primary: #7b68ee; }
     body.theme-orange { --primary: #ff9500; }


     /* レスポンシブ対応 */
     @media (max-width: 768px) {
         .app-wrapper {
             padding: 70px 0 30px;
         }
         .app-title {
             font-size: 28px;
         }
         .app-description {
            font-size: 16px;
            margin-bottom: 2rem;
         }
         .timer-panels {
             flex-wrap: wrap;
             gap: 15px;
         }
         .panel-unit {
             min-width: 70px;
         }
         .panel-value {
             font-size: 36px;
             padding: 10px 0;
         }
         .completion-message {
            font-size: 28px;
            margin: 30px 0;
         }
         .config-row {
             grid-template-columns: 1fr;
         }
         .app-btn {
             padding: 10px 20px;
             font-size: 16px;
         }
     }
     @media (max-width: 480px) {
         .app-container {
             padding: 0 15px;
         }
         .app-title {
             font-size: 24px;
         }
         .display-box, .config-panel, .share-box, .preset-options, .guide-section {
             padding: 20px 15px;
         }
         .timer-panels {
             gap: 10px;
         }
         .panel-unit {
             min-width: 55px;
         }
         .panel-value {
             font-size: 28px;
         }
         .completion-message {
            font-size: 24px;
         }
         .control-buttons {
             flex-direction: column;
             align-items: center;
             gap: 8px;
         }
         .app-btn {
             width: 100%;
             max-width: 250px; /* ボタン幅制限 */
             font-size: 15px;
             padding: 12px 20px;
         }
         .share-url-area {
             flex-direction: column;
             gap: 8px;
             align-items: stretch;
         }
         .share-url-area button {
             width: 100%;
         }
         .share-info-text {
            text-align: center;
         }
     }
   </style>

   <!-- 非クリティカルCSSは非同期ロード -->
   <link rel="stylesheet" href="../css/style.css" media="print" onload="this.media='all'">

   <!-- JavaScriptの遅延ロード -->
   <script src="../js/script.js" defer></script>

   <!-- フォールバック -->
   <noscript>
     <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
     <link rel="stylesheet" href="../css/style.css">
   </noscript>

   <link rel="icon" href="../images/favicon.ico">
   <meta property="og:title" content="カスタムタイマー | まえゆきツール">
   <meta property="og:description" content="日付や時間を指定して、イベントまでの残り時間をカウントダウン表示できる無料ツールです。">
   <meta property="og:image" content="../images/ogp_image_tools.webp">
   <meta property="og:type" content="website">
</head>
<body>
   <!-- ヘッダー -->
<header class="site-header">
    <div class="header-container">
        <div class="site-logo-text">
            <a href="index.html">CLAN</a>
        </div>
        <nav class="global-nav pc-nav">
            <ul>
                <li><a href="index.html" aria-current="page">ホーム</a></li>
                <li><a href="about.html">オートファネル大学とは</a></li>
                <li><a href="blog/index.html">ブログ</a></li>
                <li><a href="seminar/index.html">オンライン講座</a></li>
                <li><a href="tools/index.html">まえゆきツール</a></li>
                <li><a href="achievement/index.html">お客様の声</a></li>
            </ul>
        </nav>
        <div class="header-cta">
            <a href="document.html" class="btn-document">
                <svg width="14" height="14"><use xlink:href="#icon-pdf"></use></svg>
                資料請求する
            </a>
            <a href="https://utage-marunage.com/it-hojo/" class="btn-contact">
                まずは相談する
            </a>
        </div>
        <button class="hamburger-button sp-nav" aria-label="メニューを開く">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</header>

<!-- モバイルメニュー（JavaScript で動的に生成される場合はこのコードは不要） -->
<div class="mobile-menu">
    <nav>
        <ul>
            <li><a href="index.html">ホーム</a></li>
            <li><a href="about.html">オートファネル大学とは</a></li>
            <li><a href="blog/index.html">ブログ</a></li>
            <li><a href="seminar/index.html">オンライン講座</a></li>
            <li><a href="tools/index.html">まえゆきツール</a></li>
            <li><a href="achievement/index.html">お客様の声</a></li>
        </ul>
    </nav>
    <div class="mobile-cta">
        <a href="document.html" class="btn-document">
            <svg width="14" height="14"><use xlink:href="#icon-pdf"></use></svg>
            資料請求する
        </a>
        <a href="https://utage-marunage.com/it-hojo/" class="btn-contact">
            まずは相談する
        </a>
    </div>
</div>

<!-- スマホ用フッター固定CTA - 画像を削除 -->
<div class="sp-fix-cta">
    <ul>
        <li class="mail"><a href="https://utage-marunage.com/it-hojo/">まずは相談する</a></li>
        <li class="book"><a href="document.html">資料請求する</a></li>
    </ul>
</div>


   <main class="site-main">
      <!-- ツールセクション -->
      <section class="app-wrapper">
         <div class="app-container">
            <h1 class="app-title">カスタムカウントダウン</h1>
            <p class="app-description">イベントや目標までの残り時間を自由に設定・表示できます。</p>

            <!-- タイマー表示部分 -->
            <div class="display-box">
               <h2 class="display-title" id="displayTitleElem">イベントまで</h2>
               <p class="display-subtitle" id="displaySubTitleElem">残り時間をカウントダウン</p>

               <div class="timer-panels">
                  <div class="panel-unit">
                     <div class="panel-value" id="dayValue">00</div>
                     <div class="panel-label">日</div>
                  </div>
                  <div class="panel-unit">
                     <div class="panel-value" id="hourValue">00</div>
                     <div class="panel-label">時間</div>
                  </div>
                  <div class="panel-unit">
                     <div class="panel-value" id="minuteValue">00</div>
                     <div class="panel-label">分</div>
                  </div>
                  <div class="panel-unit">
                     <div class="panel-value" id="secondValue">00</div>
                     <div class="panel-label">秒</div>
                  </div>
               </div>

               <div class="completion-message" id="timerCompletionMessage">
                  カウントダウン終了！
               </div>

               <div class="control-buttons">
                  <button class="app-btn btn-secondary" id="toggleShareBtn">
                     シェア
                  </button>
                  <button class="app-btn btn-action" id="toggleConfigBtn">
                     設定
                  </button>
               </div>
            </div>

            <!-- 設定フォーム -->
            <div class="config-panel" id="configPanel">
               <h3 class="config-title">タイマー設定</h3>

               <form class="config-form" id="configFormElement">
                  <div class="form-group">
                     <label for="targetNameInput" class="form-label">タイトル</label>
                     <input type="text" id="targetNameInput" name="targetName" class="form-input" placeholder="カウントダウンのタイトル" value="イベントまで">
                  </div>

                  <div class="form-group">
                     <label for="targetDescInput" class="form-label">説明文（オプション）</label>
                     <input type="text" id="targetDescInput" name="targetDescription" class="form-input" placeholder="詳細や補足" value="残り時間をカウントダウン">
                  </div>

                  <div class="config-row">
                     <div class="form-group">
                        <label for="targetDateInput" class="form-label">日付</label>
                        <input type="date" id="targetDateInput" name="targetDate" class="form-input">
                     </div>

                     <div class="form-group">
                        <label for="targetTimeInput" class="form-label">時間</label>
                        <input type="time" id="targetTimeInput" name="targetTime" class="form-input">
                     </div>
                  </div>

                  <div class="form-group">
                     <label for="styleSelect" class="form-label">テーマカラー</label>
                     <select id="styleSelect" name="themeStyle" class="form-select">
                        <option value="blue">ブルー</option>
                        <option value="red">レッド</option>
                        <option value="green">グリーン</option>
                        <option value="purple">パープル</option>
                        <option value="orange">オレンジ</option>
                     </select>
                  </div>

                  <div class="form-actions">
                     <button type="button" class="app-btn btn-secondary" id="resetConfigBtn">
                        初期設定に戻す
                     </button>
                     <button type="submit" class="app-btn btn-action" id="applyConfigBtn">
                        この設定で開始
                     </button>
                  </div>
               </form>
            </div>

            <!-- シェアセクション -->
            <div class="share-box" id="sharePanel">
               <h3 class="share-title">このタイマーを共有</h3>

               <div class="share-url-area">
                  <input type="text" id="shareLinkInput" class="share-input-field" readonly>
                  <button class="app-btn btn-action" id="copyLinkBtn">URLコピー</button>
               </div>

               <p class="share-info-text">作成したカウントダウンのURLです。このURLを開くと同じタイマーが表示されます。ブックマークにもどうぞ。</p>

               <div class="share-social-buttons">
                  <a href="#" id="shareX" class="social-button share-twitter" target="_blank" rel="noopener noreferrer" aria-label="Xでシェア">
                     <svg width="20" height="20" fill="#fff" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
                  </a>
                  <a href="#" id="shareFacebook" class="social-button share-facebook" target="_blank" rel="noopener noreferrer" aria-label="Facebookでシェア">
                     <svg width="20" height="20" fill="#fff" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                  </a>
                  <a href="#" id="shareLine" class="social-button share-line" target="_blank" rel="noopener noreferrer" aria-label="LINEでシェア">
                     <svg width="20" height="20" fill="#fff" viewBox="0 0 24 24"><path d="M24 10.304c0-5.369-5.383-9.738-12-9.738-6.616 0-12 4.369-12 9.738 0 4.814 4.269 8.846 10.036 9.608.391.084.922.258 1.057.592.121.303.079.778.039 1.085l-.171 1.027c-.053.303-.242 1.186 1.039.647 1.281-.54 6.911-4.069 9.428-6.967 1.739-1.907 2.572-3.843 2.572-5.992zm-18.988-2.595c.129 0 .234.105.234.234v4.153c0 .129-.105.234-.234.234h-.662c-.129 0-.234-.105-.234-.234v-4.153c0-.129.105-.234.234-.234zm5.323 0c.129 0 .234.105.234.234v4.153c0 .129-.105.234-.234.234h-.661c-.129 0-.234-.105-.234-.234v-2.566l-1.838 2.481c-.051.067-.131.107-.215.107h-.033c-.084 0-.164-.04-.215-.107l-1.838-2.481v2.566c0 .129-.105.234-.234.234h-.662c-.129 0-.234-.105-.234-.234v-4.153c0-.129.105-.234.234-.234h.66c.085 0 .165.04.216.109l2.081 2.811 2.081-2.811c.051-.069.131-.109.216-.109zm5.323 0c.129 0 .234.105.234.234v4.153c0 .129-.105.234-.234.234h-.662c-.129 0-.234-.105-.234-.234v-4.153c0-.129.105-.234.234-.234zm2.662 0c.129 0 .234.105.234.234v4.153c0 .129-.105.234-.234.234h-.662c-.129 0-.234-.105-.234-.234v-4.153c0-.129.105-.234.234-.234z"/></svg>
                  </a>
               </div>
            </div>

            <!-- プリセットカウントダウン -->
            <div class="preset-options">
               <h3 class="preset-title">便利なプリセット</h3>

               <div class="preset-list">
                  <a href="#" class="preset-link" data-config-key="tomorrow">明日の0時</a>
                  <a href="#" class="preset-link" data-config-key="new-year">来年の元旦</a>
                  <a href="#" class="preset-link" data-config-key="xmas">クリスマス</a>
                  <a href="#" class="preset-link" data-config-key="halloween">ハロウィン</a>
                  <a href="#" class="preset-link" data-config-key="valentines">バレンタイン</a>
                  <a href="#" class="preset-link" data-config-key="childrens-day">こどもの日</a>
               </div>
            </div>

            <!-- 時間指定カウントダウン -->
            <div class="preset-options">
               <h3 class="preset-title">タイマー設定（〇分後など）</h3>

               <div class="preset-list">
                  <a href="#" class="preset-link" data-duration-sec="10">10秒</a>
                  <a href="#" class="preset-link" data-duration-sec="30">30秒</a>
                  <a href="#" class="preset-link" data-duration-sec="60">1分</a>
                  <a href="#" class="preset-link" data-duration-sec="300">5分</a>
                  <a href="#" class="preset-link" data-duration-sec="600">10分</a>
                  <a href="#" class="preset-link" data-duration-sec="1800">30分</a>
                  <a href="#" class="preset-link" data-duration-sec="3600">1時間</a>
               </div>
            </div>

            <!-- ツールの使い方 -->
            <div class="guide-section">
               <h3 class="guide-title">使い方ガイド</h3>

               <ul class="guide-list">
                  <li class="guide-item">日付と時間を指定して、イベントまでの日、時間、分、秒をカウントダウンします。</li>
                  <li class="guide-item">「設定」ボタンから、タイトル、説明文、目標日時、テーマカラーを変更できます。</li>
                  <li class="guide-item">「便利なプリセット」から、一般的なイベントまでのカウントダウンを簡単に設定できます。</li>
                  <li class="guide-item">「タイマー設定」から、指定した秒数・分数・時間後のタイマーを設定できます。</li>
                  <li class="guide-item">「シェア」ボタンから、現在の設定が保存されたURLを取得・コピーできます。</li>
                  <li class="guide-item">Webブラウザで動作するため、特別なアプリのインストールは不要です。</li>
               </ul>
            </div>

            <!-- 他のツールリンク -->
            <div class="related-tools">
               <h2 class="related-tools-title">関連ツール</h2>
               <div class="tool-navigation-list">
                  <a href="../tools/calc/" class="tool-nav-link">単位換算</a>
                  <a href="../tools/roulette/" class="tool-nav-link">Webルーレット</a>
                  <a href="../tools/bingo/" class="tool-nav-link">ビンゴ抽選</a>
                  <a href="../tools/image-resize/" class="tool-nav-link">画像リサイズ</a>
                  <a href="../tools/letters-counter/" class="tool-nav-link">文字数チェック</a>
                  <a href="../tools/wareki-seireki/" class="tool-nav-link">年齢・和暦計算</a>
               </div>
            </div>
         </div>
      </section>

      <!-- Contact CTA Section -->
      <section class="contact-cta-section">
         <div class="contact-cta-container">
            <span class="contact-cta-subtitle">IT導入補助金2025活用可能</span>
            <h2 class="contact-cta-title">申請は完全丸投げOK！</h2>
            <p class="contact-cta-lead">
               UTAGEの導入で最大450万円の補助金が受けられます。<br class="pc-only">
               面倒な申請手続きはすべてお任せください。<br class="pc-only">
               あなたは事業成長に集中するだけでOKです。
            </p>
            <div class="contact-cta-buttons">
               <a href="https://utage-marunage.com/it-hojo/" class="btn btn-contact">
                  無料相談してみる
               </a>
               <a href="../document.html" class="btn btn-document">
                  <svg width="14" height="14"><use xlink:href="#icon-pdf"></use></svg>
                  資料請求する
               </a>
            </div>
         </div>
      </section>
   </main>

   <footer class="site-footer">
       <div class="footer-container">
           <div class="footer-widgets">
               <div class="widget-area footer-widget-1">
                   <div class="site-logo-text" style="color: white; font-size: 24px; font-weight: bold; margin-bottom: 20px;">
                       CLAN
                   </div>
               </div>
               <div class="widget-area footer-widget-2">
                   <h4>オンライン講座一覧</h4>
                   <ul>
                       <li><a href="../course/lp.html">ランディングページ作成初級講座</a></li>
                       <li><a href="../course/video.html">動画編集初級講座</a></li>
                       <li><a href="../course/step-mail.html">ステップメール設計初級講座</a></li>
                       <li><a href="../course/auto-funnel.html">オートファネル構築初級講座</a></li>
                       <li><a href="../course/youtube-thumbnail.html">Youtubeサムネ作成初級講座</a></li>
                       <li><a href="../course/canva.html">Canvaデザイン初級講座</a></li>
                   </ul>
               </div>
               <div class="widget-area footer-widget-3">
                   <h4>便利コンテンツ</h4>
                   <ul>
                       <li><a href="../blog/index.html">ブログ</a></li>
                       <li><a href="../tools/index.html">まえゆきツール</a></li>
                       <li><a href="../book/index.html">電子書籍</a></li>
                       <li><a href="../free-seminar.html">無料セミナー</a></li>
                       <li><a href="../free-consultation.html">無料相談</a></li>
                       <li><a href="../achievement/index.html">お客様の声</a></li>
                   </ul>
               </div>
               <div class="widget-area footer-widget-4">
                   <h4>運営情報</h4>
                   <ul>
                       <li><a href="../owner.html">運営者情報</a></li>
                       <li><a href="../terms.html">利用規約</a></li>
                       <li><a href="../privacy.html">プライバシーポリシー</a></li>
                   </ul>
               </div>
           </div>
           <div class="site-copyright">
               <small>© 2025 オートファネル大学</small>
           </div>
       </div>
   </footer>

   <!-- カスタムタイマー用JavaScript -->
   <script>
      document.addEventListener('DOMContentLoaded', () => {
          // DOM要素参照を収集
          const displayTitleElem = document.getElementById('displayTitleElem');
          const displaySubTitleElem = document.getElementById('displaySubTitleElem');
          const dayValue = document.getElementById('dayValue');
          const hourValue = document.getElementById('hourValue');
          const minuteValue = document.getElementById('minuteValue');
          const secondValue = document.getElementById('secondValue');
          const timerCompletionMessage = document.getElementById('timerCompletionMessage');
          const toggleConfigBtn = document.getElementById('toggleConfigBtn');
          const toggleShareBtn = document.getElementById('toggleShareBtn');
          const configPanel = document.getElementById('configPanel');
          const sharePanel = document.getElementById('sharePanel');
          const configFormElement = document.getElementById('configFormElement');
          const targetNameInput = document.getElementById('targetNameInput');
          const targetDescInput = document.getElementById('targetDescInput');
          const targetDateInput = document.getElementById('targetDateInput');
          const targetTimeInput = document.getElementById('targetTimeInput');
          const styleSelect = document.getElementById('styleSelect');
          const resetConfigBtn = document.getElementById('resetConfigBtn');
          const applyConfigBtn = document.getElementById('applyConfigBtn');
          const shareLinkInput = document.getElementById('shareLinkInput');
          const copyLinkBtn = document.getElementById('copyLinkBtn');
          const shareX = document.getElementById('shareX');
          const shareFacebook = document.getElementById('shareFacebook');
          const shareLine = document.getElementById('shareLine');
          const presetLinks = document.querySelectorAll('.preset-link[data-config-key]');
          const timerLinks = document.querySelectorAll('.preset-link[data-duration-sec]');
          const timerPanels = document.querySelector('.timer-panels');

          // タイマー設定を保持するオブジェクト
          let appSettings = {
              title: 'イベントまで',
              subtitle: '残り時間をカウントダウン',
              targetMoment: new Date(new Date().getTime() + 24 * 60 * 60 * 1000), // デフォルトは明日
              themeStyle: 'blue',
              isDurationTimer: false // 日付/時間指定かタイマー指定か
          };

          // タイマー処理ID
          let timerInterval;

          // URLパラメータから設定を読み込む
          const loadSettingsFromUrl = () => {
              const queryParams = new URLSearchParams(window.location.search);

              if (queryParams.has('t')) { // Title
                  appSettings.title = decodeURIComponent(queryParams.get('t'));
              }

              if (queryParams.has('s')) { // Subtitle
                  appSettings.subtitle = decodeURIComponent(queryParams.get('s'));
              }

              if (queryParams.has('d') && queryParams.has('tm')) { // Date & Time
                  const dateStr = queryParams.get('d');
                  const timeStr = queryParams.get('tm');
                  const targetDateTime = new Date(`${dateStr}T${timeStr}`);

                  if (!isNaN(targetDateTime.getTime())) {
                      appSettings.targetMoment = targetDateTime;
                      appSettings.isDurationTimer = false;
                  }
              } else if (queryParams.has('sec')) { // Duration in Seconds
                  const seconds = parseInt(queryParams.get('sec'), 10);
                  if (!isNaN(seconds)) {
                      appSettings.targetMoment = new Date(new Date().getTime() + seconds * 1000);
                      appSettings.isDurationTimer = true;
                  }
              }

              if (queryParams.has('c')) { // Color
                  appSettings.themeStyle = queryParams.get('c');
              }
          };

          // 現在の設定をURLパラメータに反映
          const updateUrlParameters = () => {
              const params = new URLSearchParams();

              params.set('t', encodeURIComponent(appSettings.title));
              params.set('s', encodeURIComponent(appSettings.subtitle));

              if (appSettings.isDurationTimer) {
                  // タイマーの場合は残り秒数を記録
                  const remainingSeconds = Math.max(0, Math.floor((appSettings.targetMoment - new Date()) / 1000));
                  params.set('sec', remainingSeconds.toString());
              } else {
                  // 日付指定の場合は日付と時間を記録
                  const datePart = appSettings.targetMoment.toISOString().split('T')[0];
                  const timePart = appSettings.targetMoment.toTimeString().slice(0, 5);
                  params.set('d', datePart);
                  params.set('tm', timePart);
              }

              params.set('c', appSettings.themeStyle);

              const newUrl = `${window.location.pathname}?${params.toString()}`;
              window.history.replaceState({}, '', newUrl);

              // シェア用URLフィールド更新
              shareLinkInput.value = window.location.href;

              // ソーシャルシェアリンク更新
              const pageTitle = document.title; // ページのタイトルを取得
              const shareText = encodeURIComponent(`${pageTitle}: ${appSettings.title}`);
              const currentUrl = encodeURIComponent(window.location.href);

              shareX.href = `https://twitter.com/intent/tweet?text=${shareText}&url=${currentUrl}`;
              shareFacebook.href = `https://www.facebook.com/sharer/sharer.php?u=${currentUrl}`;
              shareLine.href = `https://social-plugins.line.me/lineit/share?url=${currentUrl}`;
          };

          // フォームに現在の設定値を反映
          const reflectSettingsToForm = () => {
              targetNameInput.value = appSettings.title;
              targetDescInput.value = appSettings.subtitle;

              const datePart = appSettings.targetMoment.toISOString().split('T')[0];
              const timePart = appSettings.targetMoment.toTimeString().slice(0, 5);

              targetDateInput.value = datePart;
              targetTimeInput.value = timePart;
              styleSelect.value = appSettings.themeStyle;
          };

          // タイマー表示を更新
          const refreshTimerDisplay = () => {
              const currentTime = new Date();
              const timeDifference = appSettings.targetMoment - currentTime;

              // タイマー終了判定
              if (timeDifference <= 0) {
                  clearInterval(timerInterval);
                  dayValue.textContent = '00';
                  hourValue.textContent = '00';
                  minuteValue.textContent = '00';
                  secondValue.textContent = '00';

                  timerPanels.style.display = 'none';
                  timerCompletionMessage.style.display = 'block';

                   // URLパラメータの秒数を0に更新 (タイマーの場合のみ)
                   if (appSettings.isDurationTimer) {
                       const params = new URLSearchParams(window.location.search);
                       if (params.has('sec')) {
                           params.set('sec', '0');
                           window.history.replaceState({}, '', `${window.location.pathname}?${params.toString()}`);
                           shareLinkInput.value = window.location.href; // シェアURLも更新
                       }
                   }


                  return;
              }

              // 残り時間を計算
              const totalSeconds = Math.floor(timeDifference / 1000);
              const days = Math.floor(totalSeconds / (60 * 60 * 24));
              const hours = Math.floor((totalSeconds % (60 * 60 * 24)) / (60 * 60));
              const minutes = Math.floor((totalSeconds % (60 * 60)) / 60);
              const seconds = totalSeconds % 60;

              // 表示要素更新
              dayValue.textContent = String(days).padStart(2, '0');
              hourValue.textContent = String(hours).padStart(2, '0');
              minuteValue.textContent = String(minutes).padStart(2, '0');
              secondValue.textContent = String(seconds).padStart(2, '0');
          };

          // タイマーを開始/再開
          const startTimer = () => {
              // 既存のタイマーを停止
              if (timerInterval) {
                  clearInterval(timerInterval);
              }

              // タイトルと説明を更新
              displayTitleElem.textContent = appSettings.title;
              displaySubTitleElem.textContent = appSettings.subtitle;

              // テーマカラースタイル適用
              document.body.className = ''; // 既存クラスをクリア
              document.body.classList.add(`theme-${appSettings.themeStyle}`);
               document.querySelectorAll('.panel-value').forEach(el => {
                   el.style.color = ''; // CSSで色指定するためインラインスタイルをリセット
               });


              // タイマー表示要素を表示、終了メッセージを非表示
              timerPanels.style.display = 'flex';
              timerCompletionMessage.style.display = 'none';


              // 初回表示更新
              refreshTimerDisplay();

              // 1秒ごとに更新
              timerInterval = setInterval(refreshTimerDisplay, 1000);
          };

           // プリセット設定適用
           const applyPresetSettings = (key) => {
               const now = new Date();
               const currentYear = now.getFullYear();
               let targetDateObj;

               switch(key) {
                   case 'tomorrow':
                       targetDateObj = new Date();
                       targetDateObj.setDate(targetDateObj.getDate() + 1);
                       targetDateObj.setHours(0, 0, 0, 0);
                       appSettings.title = '明日まで';
                       appSettings.subtitle = '終日';
                       break;

                   case 'new-year':
                       targetDateObj = new Date(currentYear + 1, 0, 1, 0, 0, 0, 0); // 翌年1月1日
                       appSettings.title = `${currentYear + 1}年まで`;
                       appSettings.subtitle = '新年まであと';
                       break;

                   case 'xmas':
                       targetDateObj = new Date(currentYear, 11, 25, 0, 0, 0, 0); // 12月25日
                       if (now > targetDateObj) {
                           targetDateObj.setFullYear(currentYear + 1);
                       }
                       appSettings.title = 'クリスマスまで';
                       appSettings.subtitle = 'ホーリーナイト🎄';
                       break;

                   case 'halloween':
                       targetDateObj = new Date(currentYear, 9, 31, 0, 0, 0, 0); // 10月31日
                       if (now > targetDateObj) {
                           targetDateObj.setFullYear(currentYear + 1);
                       }
                       appSettings.title = 'ハロウィンまで';
                       appSettings.subtitle = 'トリック・オア・トリート！🎃';
                       break;

                   case 'valentines':
                       targetDateObj = new Date(currentYear, 1, 14, 0, 0, 0, 0); // 2月14日
                       if (now > targetDateObj) {
                           targetDateObj.setFullYear(currentYear + 1);
                       }
                       appSettings.title = 'バレンタインまで';
                       appSettings.subtitle = '愛を込めて💝';
                       break;

                   case 'childrens-day':
                       targetDateObj = new Date(currentYear, 4, 5, 0, 0, 0, 0); // 5月5日
                       if (now > targetDateObj) {
                           targetDateObj.setFullYear(currentYear + 1);
                       }
                       appSettings.title = 'こどもの日まで';
                       appSettings.subtitle = '元気いっぱい🎏';
                       break;

                    default:
                        return; // 未知のキーの場合は何もしない
               }

               appSettings.targetMoment = targetDateObj;
               appSettings.isDurationTimer = false;

               reflectSettingsToForm(); // フォームを更新
               updateUrlParameters(); // URLを更新
               startTimer(); // タイマー開始
           };

           // タイマー（時間指定）設定適用
           const applyDurationTimer = (seconds) => {
               const targetMoment = new Date(new Date().getTime() + seconds * 1000);

               appSettings.title = `${formatSecondsToReadable(seconds)}タイマー`;
               appSettings.subtitle = 'スタート！';
               appSettings.targetMoment = targetMoment;
               appSettings.isDurationTimer = true;

               reflectSettingsToForm(); // フォームを更新
               updateUrlParameters(); // URLを更新
               startTimer(); // タイマー開始
           };

           // 秒数を 'N分M秒' のように整形
           const formatSecondsToReadable = (totalSeconds) => {
               const hours = Math.floor(totalSeconds / 3600);
               const minutes = Math.floor((totalSeconds % 3600) / 60);
               const seconds = totalSeconds % 60;
               let parts = [];
               if (hours > 0) parts.push(`${hours}時間`);
               if (minutes > 0 || hours > 0) parts.push(`${minutes}分`); // 1時間以上なら0分でも表示
               parts.push(`${seconds}秒`);
               return parts.join('');
           };


          // イベントハンドラ設定
          const setupEventHandlers = () => {
              // 設定ボタン押下
              toggleConfigBtn.addEventListener('click', () => {
                  configPanel.style.display = configPanel.style.display === 'block' ? 'none' : 'block';
                  sharePanel.style.display = 'none'; // シェアパネルは非表示
                  if (configPanel.style.display === 'block') {
                      // スクロール
                      window.scrollTo({
                          top: configPanel.offsetTop - 80,
                          behavior: 'smooth'
                      });
                  }
              });

              // シェアボタン押下
              toggleShareBtn.addEventListener('click', () => {
                  sharePanel.style.display = sharePanel.style.display === 'block' ? 'none' : 'block';
                  configPanel.style.display = 'none'; // 設定パネルは非表示
                  if (sharePanel.style.display === 'block') {
                      // スクロール
                       window.scrollTo({
                           top: sharePanel.offsetTop - 80,
                           behavior: 'smooth'
                       });
                  }
              });

              // URLコピーボタン押下
              copyLinkBtn.addEventListener('click', () => {
                  shareLinkInput.select();
                  navigator.clipboard.writeText(shareLinkInput.value).then(() => {
                       const initialText = copyLinkBtn.textContent;
                       copyLinkBtn.textContent = 'コピー完了！';
                       setTimeout(() => {
                           copyLinkBtn.textContent = initialText;
                       }, 2000);
                  }).catch(err => {
                       console.error('Failed to copy: ', err);
                  });
              });

              // 設定フォーム送信
              configFormElement.addEventListener('submit', (e) => {
                  e.preventDefault();

                  appSettings.title = targetNameInput.value.trim() || '無題のイベント';
                  appSettings.subtitle = targetDescInput.value.trim() || '目標まで';

                  const datePart = targetDateInput.value;
                  const timePart = targetTimeInput.value || '00:00';
                  const combinedDateTime = new Date(`${datePart}T${timePart}`);

                  if (!isNaN(combinedDateTime.getTime())) {
                      appSettings.targetMoment = combinedDateTime;
                  }

                  appSettings.themeStyle = styleSelect.value;
                  appSettings.isDurationTimer = false; // フォームからの設定は日付/時間指定

                  updateUrlParameters(); // URL更新
                  startTimer(); // タイマー開始

                  // 設定パネルを閉じる
                   configPanel.style.display = 'none';
                   window.scrollTo({ top: 0, behavior: 'smooth' });
              });

              // リセットボタン押下
              resetConfigBtn.addEventListener('click', () => {
                  targetNameInput.value = 'イベントまで';
                  targetDescInput.value = '残り時間をカウントダウン';

                  const tomorrow = new Date();
                  tomorrow.setDate(tomorrow.getDate() + 1);
                  targetDateInput.value = tomorrow.toISOString().split('T')[0];
                  targetTimeInput.value = '00:00';
                  styleSelect.value = 'blue';
              });

              // プリセットリンククリック
              presetLinks.forEach(link => {
                  link.addEventListener('click', (e) => {
                      e.preventDefault();
                      const presetKey = link.getAttribute('data-config-key');
                      applyPresetSettings(presetKey);
                  });
              });

              // タイマーリンククリック
              timerLinks.forEach(link => {
                  link.addEventListener('click', (e) => {
                      e.preventDefault();
                      const secondsValue = parseInt(link.getAttribute('data-duration-sec'), 10);
                      applyDurationTimer(secondsValue);
                  });
              });
          };

          // アプリケーション起動時の初期処理
          const initializeApp = () => {
              // フォームのデフォルト日付として明日を設定
              const tomorrow = new Date();
              tomorrow.setDate(tomorrow.getDate() + 1);
              targetDateInput.value = tomorrow.toISOString().split('T')[0];
              targetTimeInput.value = '00:00';

              // URLパラメータから設定を読み込む
              loadSettingsFromUrl();

              // フォームに設定を反映
              reflectSettingsToForm();

              // URLパラメータを最新の設定で更新
              updateUrlParameters();

              // タイマーを開始
              startTimer();

              // イベントハンドラを設定
              setupEventHandlers();

              // 設定/シェアパネルは最初は隠しておく
              configPanel.style.display = 'none';
              sharePanel.style.display = 'none';
          };

          // アプリケーション起動
          initializeApp();
      });
   </script>
</body>
</html>