<!DOCTYPE html>
<html lang="ja">
<head>
  <script src="/js/prevent-duplicate-includes.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="世界の単位を簡単に換算・計算できる無料ツールです。長さ、重さ、温度、面積、体積など、各種単位間の変換を素早く正確に行えます。">
  <meta name="keywords" content="単位換算,単位計算,メートル法,インチ,フィート,ポンド,キログラム,温度換算,面積計算,無料ツール,まえゆきツール">
  <title>世界の単位換算と計算ツール | まえゆきツール</title>

  <!-- リソースの先読み -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- 共通CSSとフォント -->
  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  
  <!-- ツール共通CSS -->
  <link rel="stylesheet" href="/css/tools-common.css">

  <!-- クリティカルCSS インライン化 -->  <link rel="icon" href="/images/favicon.ico">
  <meta property="og:title" content="世界の単位換算と計算ツール | まえゆきツール">
  <meta property="og:description" content="世界の単位を簡単に換算・計算できる無料ツールです。長さ、重さ、温度、面積、体積など、各種単位間の変換を素早く正確に行えます。">
</head>
<body>
<!-- ヘッダー -->
<div id="header-placeholder"></div>

<main>
  <section class="tool-section">
    <div class="tool-container">
      /* 追加スタイル - モダンで美しいデザイン */
    .tool-container {
      max-width: 1000px;
      padding: 0 25px;
      margin: 0 auto;
    }
    
    .tool-header {
      text-align: center;
      margin-bottom: 40px;
      position: relative;
      padding-bottom: 15px;
    }
    
    .tool-header:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background: var(--primary);
      border-radius: 2px;
    }
    
    .tool-title {
      font-size: 32px;
      font-weight: 800;
      color: var(--dark-blue);
      margin-bottom: 15px;
      letter-spacing: 0.03em;
    }
    
    .tool-desc {
      color: var(--text-mid);
      max-width: 800px;
      margin: 0 auto 20px;
      line-height: 1.7;
      font-size: 16px;
    }
    
    .tool-tabs {
      display: flex;
      background: #f0f4f8;
      border-radius: 12px;
      margin-bottom: 30px;
      overflow: hidden;
      box-shadow: 0 3px 8px rgba(0,0,0,0.05);
    }
    
    .tool-tab {
      flex: 1;
      text-align: center;
      padding: 18px 15px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      color: var(--text-mid);
      border-bottom: 3px solid transparent;
    }
    
    .tool-tab.active {
      background: #fff;
      color: var(--primary);
      border-bottom: 3px solid var(--primary);
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    
    .tool-content {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.08);
      padding: 35px;
      margin-bottom: 40px;
    }
    
    .tool-content > div {
      display: none;
    }
    
    .tool-content > div.active {
      display: block;
      animation: fadeIn 0.5s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .input-group {
      margin-bottom: 25px;
    }
    
    .input-label {
      display: block;
      font-weight: 600;
      margin-bottom: 12px;
      color: var(--dark-blue);
      font-size: 18px;
    }
    
    .unit-inputs {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }
    
    .unit-input-group {
      flex: 1;
      min-width: 250px;
    }
    
    .unit-input {
      display: flex;
      flex-direction: column;
    }
    
    .unit-input input {
      padding: 14px 18px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      margin-bottom: 10px;
      transition: all 0.3s ease;
      box-shadow: 0 3px 6px rgba(0,0,0,0.03);
    }
    
    .unit-input input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(58, 134, 255, 0.2);
      outline: none;
    }
    
    .unit-input select {
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      background-color: #f8f8f8;
      transition: all 0.3s ease;
    }
    
    .unit-input select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(58, 134, 255, 0.2);
      outline: none;
    }
    
    .result-box {
      background: #f8fafc;
      border-radius: 12px;
      padding: 25px;
      margin-top: 30px;
      border-left: 4px solid var(--primary);
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      transition: all 0.3s ease;
    }
    
    .result-box:hover {
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      transform: translateY(-3px);
    }
    
    .result-title {
      font-weight: 700;
      color: var(--dark-blue);
      margin-bottom: 12px;
      font-size: 18px;
    }
    
    .result-value {
      font-size: 22px;
      line-height: 1.5;
      font-weight: 500;
    }
    
    .btn-convert {
      background: var(--primary);
      color: white;
      border: none;
      padding: 14px 30px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s ease;
      margin-top: 20px;
      box-shadow: 0 4px 12px rgba(58, 134, 255, 0.25);
    }
    
    .btn-convert:hover {
      background: #3a5fcb;
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(58, 134, 255, 0.35);
    }
    
    .info-note {
      font-size: 14px;
      color: var(--text-light);
      margin-top: 10px;
      font-style: italic;
    }
    
    .swap-btn {
      background: #f0f4f8;
      border: 1px solid #ddd;
      width: 46px;
      height: 46px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      align-self: center;
      transition: all 0.3s ease;
      box-shadow: 0 3px 8px rgba(0,0,0,0.08);
    }
    
    .swap-btn:hover {
      background: #e4e9f0;
      transform: rotate(180deg);
      box-shadow: 0 5px 12px rgba(0,0,0,0.12);
    }
    
    .swap-btn svg {
      width: 20px;
      height: 20px;
      fill: var(--text-mid);
    }
    
    @media (max-width: 768px) {
      .unit-inputs {
        flex-direction: column;
      }
      
      .swap-btn {
        align-self: center;
        margin: 10px 0;
        transform: rotate(90deg);
      }
      
      .swap-btn:hover {
        transform: rotate(270deg);
      }
      
      .tool-tabs {
        flex-direction: column;
      }
      
      .tool-tab {
        border-bottom: none;
        border-left: 3px solid transparent;
      }
      
      .tool-tab.active {
        border-bottom: none;
        border-left: 3px solid var(--primary);
      }
    }
  </style>
</head>
<body>
<header id="header" class="header"></header>

<section class="tool-section">
  <div class="tool-container">
    <div class="tool-header">
      <h1 class="tool-title">世界の単位換算と計算ツール</h1>
      <p class="tool-desc">異なる国や分野で使用される単位を簡単に換算・計算できる無料ツールです。長さ、重さ、温度、面積、体積など、さまざまな単位間の変換を正確に行えます。</p>
    </div>
    
    <div class="tool-tabs">
      <div class="tool-tab active" data-tab="length">長さ・距離</div>
      <div class="tool-tab" data-tab="weight">重さ・質量</div>
      <div class="tool-tab" data-tab="temperature">温度</div>
      <div class="tool-tab" data-tab="area">面積</div>
      <div class="tool-tab" data-tab="volume">体積・容量</div>
    </div>
    
    <div class="tool-content">
      <!-- 長さ・距離の変換 -->
      <div id="length" class="active">
        <h2>長さ・距離の単位換算</h2>
        <p>メートル、インチ、フィート、ヤード、マイル、海里などの単位を相互に変換できます。</p>
        
        <div class="input-group">
          <div class="unit-inputs">
            <div class="unit-input-group">
              <label class="input-label">変換元</label>
              <div class="unit-input">
                <input type="number" id="length-input" placeholder="値を入力">
                <select id="length-from">
                  <option value="mm">ミリメートル (mm)</option>
                  <option value="cm">センチメートル (cm)</option>
                  <option value="m" selected>メートル (m)</option>
                  <option value="km">キロメートル (km)</option>
                  <option value="in">インチ (in)</option>
                  <option value="ft">フィート (ft)</option>
                  <option value="yd">ヤード (yd)</option>
                  <option value="mi">マイル (mi)</option>
                  <option value="nmi">海里 (nmi)</option>
                </select>
              </div>
            </div>
            
            <div class="swap-btn" id="length-swap">
              <svg viewBox="0 0 24 24">
                <path d="M8,12L5,9L2,12H4V21H6V12H8M16,3V12H14V21H12V12H10V9H16V3H20V9H22L19,12L16,9V3Z"></path>
              </svg>
            </div>
            
            <div class="unit-input-group">
              <label class="input-label">変換先</label>
              <div class="unit-input">
                <input type="number" id="length-result" placeholder="結果" readonly>
                <select id="length-to">
                  <option value="mm">ミリメートル (mm)</option>
                  <option value="cm">センチメートル (cm)</option>
                  <option value="m">メートル (m)</option>
                  <option value="km" selected>キロメートル (km)</option>
                  <option value="in">インチ (in)</option>
                  <option value="ft">フィート (ft)</option>
                  <option value="yd">ヤード (yd)</option>
                  <option value="mi">マイル (mi)</option>
                  <option value="nmi">海里 (nmi)</option>
                </select>
              </div>
            </div>
          </div>
          
          <button class="btn-convert" id="length-convert">換算する</button>
          
          <div class="result-box" id="length-result-box" style="display: none;">
            <h3 class="result-title">換算結果</h3>
            <p class="result-value" id="length-result-text"></p>
            <p class="result-formula" id="length-formula"></p>
          </div>
        </div>
      </div>
      
      <!-- 重さ・質量の変換 -->
      <div id="weight">
        <h2>重さ・質量の単位換算</h2>
        <p>グラム、キログラム、ポンド、オンス、トンなどの単位を相互に変換できます。</p>
        
        <div class="input-group">
          <div class="unit-inputs">
            <div class="unit-input-group">
              <label class="input-label">変換元</label>
              <div class="unit-input">
                <input type="number" id="weight-input" placeholder="値を入力">
                <select id="weight-from">
                  <option value="mg">ミリグラム (mg)</option>
                  <option value="g">グラム (g)</option>
                  <option value="kg" selected>キログラム (kg)</option>
                  <option value="t">トン (t)</option>
                  <option value="oz">オンス (oz)</option>
                  <option value="lb">ポンド (lb)</option>
                  <option value="st">ストーン (st)</option>
                  <option value="ton">米トン (ton)</option>
                </select>
              </div>
            </div>
            
            <div class="swap-btn" id="weight-swap">
              <svg viewBox="0 0 24 24">
                <path d="M8,12L5,9L2,12H4V21H6V12H8M16,3V12H14V21H12V12H10V9H16V3H20V9H22L19,12L16,9V3Z"></path>
              </svg>
            </div>
            
            <div class="unit-input-group">
              <label class="input-label">変換先</label>
              <div class="unit-input">
                <input type="number" id="weight-result" placeholder="結果" readonly>
                <select id="weight-to">
                  <option value="mg">ミリグラム (mg)</option>
                  <option value="g">グラム (g)</option>
                  <option value="kg">キログラム (kg)</option>
                  <option value="t">トン (t)</option>
                  <option value="oz">オンス (oz)</option>
                  <option value="lb" selected>ポンド (lb)</option>
                  <option value="st">ストーン (st)</option>
                  <option value="ton">米トン (ton)</option>
                </select>
              </div>
            </div>
          </div>
          
          <button class="btn-convert" id="weight-convert">換算する</button>
          
          <div class="result-box" id="weight-result-box" style="display: none;">
            <h3 class="result-title">換算結果</h3>
            <p class="result-value" id="weight-result-text"></p>
            <p class="result-formula" id="weight-formula"></p>
          </div>
        </div>
      </div>
      
      <!-- 温度の変換 -->
      <div id="temperature">
        <h2>温度の単位換算</h2>
        <p>摂氏（℃）、華氏（℉）、ケルビン（K）の温度単位を相互に変換できます。</p>
        
        <div class="input-group">
          <div class="unit-inputs">
            <div class="unit-input-group">
              <label class="input-label">変換元</label>
              <div class="unit-input">
                <input type="number" id="temp-input" placeholder="値を入力">
                <select id="temp-from">
                  <option value="c" selected>摂氏 (°C)</option>
                  <option value="f">華氏 (°F)</option>
                  <option value="k">ケルビン (K)</option>
                </select>
              </div>
            </div>
            
            <div class="swap-btn" id="temp-swap">
              <svg viewBox="0 0 24 24">
                <path d="M8,12L5,9L2,12H4V21H6V12H8M16,3V12H14V21H12V12H10V9H16V3H20V9H22L19,12L16,9V3Z"></path>
              </svg>
            </div>
            
            <div class="unit-input-group">
              <label class="input-label">変換先</label>
              <div class="unit-input">
                <input type="number" id="temp-result" placeholder="結果" readonly>
                <select id="temp-to">
                  <option value="c">摂氏 (°C)</option>
                  <option value="f" selected>華氏 (°F)</option>
                  <option value="k">ケルビン (K)</option>
                </select>
              </div>
            </div>
          </div>
          
          <button class="btn-convert" id="temp-convert">換算する</button>
          
          <div class="result-box" id="temp-result-box" style="display: none;">
            <h3 class="result-title">換算結果</h3>
            <p class="result-value" id="temp-result-text"></p>
            <p class="result-formula" id="temp-formula"></p>
          </div>
        </div>
      </div>
      
      <!-- 面積の変換 -->
      <div id="area">
        <h2>面積の単位換算</h2>
        <p>平方メートル、平方フィート、エーカー、ヘクタール、坪、畳などの単位を相互に変換できます。</p>
        
        <div class="input-group">
          <div class="unit-inputs">
            <div class="unit-input-group">
              <label class="input-label">変換元</label>
              <div class="unit-input">
                <input type="number" id="area-input" placeholder="値を入力">
                <select id="area-from">
                  <option value="cm2">平方センチメートル (cm²)</option>
                  <option value="m2" selected>平方メートル (m²)</option>
                  <option value="km2">平方キロメートル (km²)</option>
                  <option value="ha">ヘクタール (ha)</option>
                  <option value="in2">平方インチ (in²)</option>
                  <option value="ft2">平方フィート (ft²)</option>
                  <option value="yd2">平方ヤード (yd²)</option>
                  <option value="ac">エーカー (ac)</option>
                  <option value="mi2">平方マイル (mi²)</option>
                  <option value="tsubo">坪</option>
                  <option value="tatami">畳</option>
                </select>
              </div>
            </div>
            
            <div class="swap-btn" id="area-swap">
              <svg viewBox="0 0 24 24">
                <path d="M8,12L5,9L2,12H4V21H6V12H8M16,3V12H14V21H12V12H10V9H16V3H20V9H22L19,12L16,9V3Z"></path>
              </svg>
            </div>
            
            <div class="unit-input-group">
              <label class="input-label">変換先</label>
              <div class="unit-input">
                <input type="number" id="area-result" placeholder="結果" readonly>
                <select id="area-to">
                  <option value="cm2">平方センチメートル (cm²)</option>
                  <option value="m2">平方メートル (m²)</option>
                  <option value="km2">平方キロメートル (km²)</option>
                  <option value="ha">ヘクタール (ha)</option>
                  <option value="in2">平方インチ (in²)</option>
                  <option value="ft2" selected>平方フィート (ft²)</option>
                  <option value="yd2">平方ヤード (yd²)</option>
                  <option value="ac">エーカー (ac)</option>
                  <option value="mi2">平方マイル (mi²)</option>
                  <option value="tsubo">坪</option>
                  <option value="tatami">畳</option>
                </select>
              </div>
            </div>
          </div>
          
          <button class="btn-convert" id="area-convert">換算する</button>
          
          <div class="result-box" id="area-result-box" style="display: none;">
            <h3 class="result-title">換算結果</h3>
            <p class="result-value" id="area-result-text"></p>
            <p class="result-formula" id="area-formula"></p>
          </div>
        </div>
      </div>
      
      <!-- 体積・容量の変換 -->
      <div id="volume">
        <h2>体積・容量の単位換算</h2>
        <p>リットル、立方メートル、ガロン、パイントなどの単位を相互に変換できます。</p>
        
        <div class="input-group">
          <div class="unit-inputs">
            <div class="unit-input-group">
              <label class="input-label">変換元</label>
              <div class="unit-input">
                <input type="number" id="volume-input" placeholder="値を入力">
                <select id="volume-from">
                  <option value="ml">ミリリットル (ml)</option>
                  <option value="l" selected>リットル (L)</option>
                  <option value="m3">立方メートル (m³)</option>
                  <option value="cm3">立方センチメートル (cm³)</option>
                  <option value="in3">立方インチ (in³)</option>
                  <option value="ft3">立方フィート (ft³)</option>
                  <option value="us_gal">米ガロン (US gal)</option>
                  <option value="uk_gal">英ガロン (UK gal)</option>
                  <option value="us_pt">米パイント (US pt)</option>
                  <option value="uk_pt">英パイント (UK pt)</option>
                  <option value="us_cup">米カップ (US cup)</option>
                </select>
              </div>
            </div>
            
            <div class="swap-btn" id="volume-swap">
              <svg viewBox="0 0 24 24">
                <path d="M8,12L5,9L2,12H4V21H6V12H8M16,3V12H14V21H12V12H10V9H16V3H20V9H22L19,12L16,9V3Z"></path>
              </svg>
            </div>
            
            <div class="unit-input-group">
              <label class="input-label">変換先</label>
              <div class="unit-input">
                <input type="number" id="volume-result" placeholder="結果" readonly>
                <select id="volume-to">
                  <option value="ml">ミリリットル (ml)</option>
                  <option value="l">リットル (L)</option>
                  <option value="m3">立方メートル (m³)</option>
                  <option value="cm3">立方センチメートル (cm³)</option>
                  <option value="in3">立方インチ (in³)</option>
                  <option value="ft3">立方フィート (ft³)</option>
                  <option value="us_gal" selected>米ガロン (US gal)</option>
                  <option value="uk_gal">英ガロン (UK gal)</option>
                  <option value="us_pt">米パイント (US pt)</option>
                  <option value="uk_pt">英パイント (UK pt)</option>
                  <option value="us_cup">米カップ (US cup)</option>
                </select>
              </div>
            </div>
          </div>
          
          <button class="btn-convert" id="volume-convert">換算する</button>
          
          <div class="result-box" id="volume-result-box" style="display: none;">
            <h3 class="result-title">換算結果</h3>
            <p class="result-value" id="volume-result-text"></p>
            <p class="result-formula" id="volume-formula"></p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="tool-info">
      <h2>単位換算について</h2>
      <p>このツールでは、世界中で使用されているさまざまな単位系間の換算を簡単に行うことができます。メートル法（SI単位系）、ヤード・ポンド法（アメリカ/イギリス）、日本の伝統的単位など、異なる地域や分野で使われる単位を相互に変換できます。</p>
      <p>正確な変換のために、国際標準に基づいた換算式を採用しています。科学的な計算や日常生活、旅行時などにお役立てください。</p>
    </div>
  </div>
</section>

<footer id="footer" class="footer"></footer>

<!-- インクルード処理用のJavaScript -->
<script src="/js/includes.js"></script>

<!-- ツール固有のJavaScript -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // タブ切り替え処理
    const tabs = document.querySelectorAll('.tool-tab');
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        // 現在のアクティブタブを非アクティブにする
        document.querySelector('.tool-tab.active').classList.remove('active');
        // 現在のアクティブコンテンツを非アクティブにする
        document.querySelector('.tool-content > div.active').classList.remove('active');
        
        // クリックしたタブをアクティブにする
        tab.classList.add('active');
        // タブに対応するコンテンツをアクティブにする
        const tabId = tab.getAttribute('data-tab');
        document.getElementById(tabId).classList.add('active');
      });
    });
    
    // 単位換算の定義
    const unitConversions = {
      // 長さの変換率（基準：メートル）
      length: {
        mm: 0.001,
        cm: 0.01,
        m: 1,
        km: 1000,
        in: 0.0254,
        ft: 0.3048,
        yd: 0.9144,
        mi: 1609.344,
        nmi: 1852
      },
      
      // 重さの変換率（基準：キログラム）
      weight: {
        mg: 0.000001,
        g: 0.001,
        kg: 1,
        t: 1000,
        oz: 0.0283495,
        lb: 0.453592,
        st: 6.35029,
        ton: 907.185
      },
      
      // 面積の変換率（基準：平方メートル）
      area: {
        cm2: 0.0001,
        m2: 1,
        km2: 1000000,
        ha: 10000,
        in2: 0.00064516,
        ft2: 0.092903,
        yd2: 0.836127,
        ac: 4046.86,
        mi2: 2589988.11,
        tsubo: 3.30579,
        tatami: 1.62 // 一般的な江戸間サイズ
      },
      
      // 体積の変換率（基準：リットル）
      volume: {
        ml: 0.001,
        l: 1,
        m3: 1000,
        cm3: 0.001,
        in3: 0.0163871,
        ft3: 28.3168,
        us_gal: 3.78541,
        uk_gal: 4.54609,
        us_pt: 0.473176,
        uk_pt: 0.568261,
        us_cup: 0.24
      }
    };
    
    // 温度変換（特殊な計算が必要）
    function convertTemperature(value, from, to) {
      // 摂氏からケルビン: K = C + 273.15
      // 華氏から摂氏: C = (F - 32) × 5/9
      // 華氏からケルビン: K = (F - 32) × 5/9 + 273.15
      
      let celsius;
      
      // まず摂氏(c)に変換
      switch(from) {
        case 'c': celsius = value; break;
        case 'f': celsius = (value - 32) * 5/9; break;
        case 'k': celsius = value - 273.15; break;
      }
      
      // 摂氏から目的の単位に変換
      switch(to) {
        case 'c': return celsius;
        case 'f': return celsius * 9/5 + 32;
        case 'k': return celsius + 273.15;
      }
    }
    
    // 温度の変換式を取得
    function getTemperatureFormula(value, from, to) {
      const fromSymbol = from === 'c' ? '°C' : (from === 'f' ? '°F' : 'K');
      const toSymbol = to === 'c' ? '°C' : (to === 'f' ? '°F' : 'K');
      
      let formula = `${value} ${fromSymbol} = `;
      
      if (from === 'c' && to === 'f') {
        formula += `${value} × 9/5 + 32 = ${(value * 9/5 + 32).toFixed(2)} ${toSymbol}`;
      } else if (from === 'c' && to === 'k') {
        formula += `${value} + 273.15 = ${(value + 273.15).toFixed(2)} ${toSymbol}`;
      } else if (from === 'f' && to === 'c') {
        formula += `(${value} - 32) × 5/9 = ${((value - 32) * 5/9).toFixed(2)} ${toSymbol}`;
      } else if (from === 'f' && to === 'k') {
        formula += `(${value} - 32) × 5/9 + 273.15 = ${((value - 32) * 5/9 + 273.15).toFixed(2)} ${toSymbol}`;
      } else if (from === 'k' && to === 'c') {
        formula += `${value} - 273.15 = ${(value - 273.15).toFixed(2)} ${toSymbol}`;
      } else if (from === 'k' && to === 'f') {
        formula += `(${value} - 273.15) × 9/5 + 32 = ${((value - 273.15) * 9/5 + 32).toFixed(2)} ${toSymbol}`;
      } else {
        formula += `${value} ${toSymbol}`;
      }
      
      return formula;
    }
    
    // 一般的な単位変換
    function convertUnit(value, from, to, unitType) {
      // 単位が同じ場合はそのまま返す
      if (from === to) return value;
      
      // 温度は特殊処理
      if (unitType === 'temperature') {
        return convertTemperature(value, from, to);
      }
      
      // それ以外は換算表を使用
      const conversions = unitConversions[unitType];
      const baseValue = value * conversions[from]; // 基準単位に変換
      return baseValue / conversions[to]; // 目的の単位に変換
    }
    
    // 一般的な単位の変換式を取得
    function getUnitFormula(value, from, to, unitType) {
      if (from === to) return `${value} ${from} = ${value} ${to}`;
      
      const conversions = unitConversions[unitType];
      const baseValue = value * conversions[from];
      const result = baseValue / conversions[to];
      
      const unitNames = {
        length: {
          mm: 'ミリメートル', cm: 'センチメートル', m: 'メートル', km: 'キロメートル',
          in: 'インチ', ft: 'フィート', yd: 'ヤード', mi: 'マイル', nmi: '海里'
        },
        weight: {
          mg: 'ミリグラム', g: 'グラム', kg: 'キログラム', t: 'トン',
          oz: 'オンス', lb: 'ポンド', st: 'ストーン', ton: '米トン'
        },
        area: {
          cm2: '平方センチメートル', m2: '平方メートル', km2: '平方キロメートル', ha: 'ヘクタール',
          in2: '平方インチ', ft2: '平方フィート', yd2: '平方ヤード', ac: 'エーカー',
          mi2: '平方マイル', tsubo: '坪', tatami: '畳'
        },
        volume: {
          ml: 'ミリリットル', l: 'リットル', m3: '立方メートル', cm3: '立方センチメートル',
          in3: '立方インチ', ft3: '立方フィート', us_gal: '米ガロン', uk_gal: '英ガロン',
          us_pt: '米パイント', uk_pt: '英パイント', us_cup: '米カップ'
        }
      };
      
      const fromName = unitNames[unitType][from];
      const toName = unitNames[unitType][to];
      
      return `${value} ${fromName} = ${result.toFixed(6)} ${toName}`;
    }
    
    // 各単位タイプごとの換算処理
    function setupConverter(unitType) {
      const input = document.getElementById(`${unitType}-input`);
      const result = document.getElementById(`${unitType}-result`);
      const fromSelect = document.getElementById(`${unitType}-from`);
      const toSelect = document.getElementById(`${unitType}-to`);
      const resultBox = document.getElementById(`${unitType}-result-box`);
      const resultText = document.getElementById(`${unitType}-result-text`);
      const formula = document.getElementById(`${unitType}-formula`);
      const swapBtn = document.getElementById(`${unitType}-swap`);
      const convertBtn = document.getElementById(`${unitType}-convert`);
      
      // 換算ボタンのクリックイベント
      convertBtn.addEventListener('click', () => {
        const value = parseFloat(input.value);
        
        if (isNaN(value)) {
          alert('有効な数値を入力してください。');
          return;
        }
        
        const from = fromSelect.value;
        const to = toSelect.value;
        
        // 単位換算を実行
        let convertedValue;
        let formulaText;
        
        if (unitType === 'temperature') {
          convertedValue = convertTemperature(value, from, to);
          formulaText = getTemperatureFormula(value, from, to);
        } else {
          convertedValue = convertUnit(value, from, to, unitType);
          formulaText = getUnitFormula(value, from, to, unitType);
        }
        
        // 結果を表示
        result.value = convertedValue.toFixed(6);
        resultText.textContent = `${value} ${from} = ${convertedValue.toFixed(6)} ${to}`;
        formula.textContent = formulaText;
        resultBox.style.display = 'block';
      });
      
      // 単位入れ替えボタン
      swapBtn.addEventListener('click', () => {
        const fromValue = fromSelect.value;
        const toValue = toSelect.value;
        
        fromSelect.value = toValue;
        toSelect.value = fromValue;
        
        // 値も入れ替え
        if (result.value) {
          input.value = result.value;
          result.value = '';
        }
      });
          // Enterキーでも変換できるようにする
      input.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          convertBtn.click();
        }
      });
    }
    
    // 各換算機能の初期化
    setupConverter('length');
    setupConverter('weight');
    setupConverter('temp');
    setupConverter('area');
    setupConverter('volume');
  });
</script>
</div>
</section>
</main>

<!-- その他のまえゆきツール -->
<div class="other-tools">
  <h2 class="other-tools-title">その他のまえゆきツール</h2>
  <div class="tools-list">
    <a href="countdown.html" class="tool-link">カウントダウンタイマー</a>
    <a href="roulette.html" class="tool-link">ルーレット</a>
    <a href="image-resize.html" class="tool-link">画像リサイズ</a>
    <a href="png-to-jpeg.html" class="tool-link">PNG→JPEG変換</a>
    <a href="png-jpeg-to-webp.html" class="tool-link">WebP変換</a>
    <a href="wareki-seireki.html" class="tool-link">年齢・和暦計算</a>
    <a href="meme-generator.html" class="tool-link">ミーム作成</a>
    <a href="color-palette.html" class="tool-link">カラーパレット</a>
    <a href="letters-counter.html" class="tool-link">文字数カウント</a>
  </div>
</div>

<!-- フッター -->
<div id="footer-placeholder"></div>
<script>
  if (!window.isScriptLoaded || !window.isScriptLoaded('/js/include.js')) {
      document.write('<script src="/js/include.js"><\/script>');
  } else {
      console.log('include.jsのロードをスキップしました');
  }
</script>

<script src="/js/script.js"></script>

<script>
  // ヘッダーを読み込む
  document.addEventListener('DOMContentLoaded', function() {
    if (window.ComponentLoader) {
      ComponentLoader.loadComponent('/common/header.html', '#header-placeholder');
      ComponentLoader.loadComponent('/common/footer.html', '#footer-placeholder');
    } else {
      console.error('ComponentLoaderが見つかりません');
    }
  });
</script>
</body>
</html>
