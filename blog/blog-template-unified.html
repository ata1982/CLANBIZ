<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[記事タイトル] | あたらしいビジネスブログ</title>
    <meta name="description" content="[記事の説明文]">
    
    <!-- フォント -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../css/blog-unified.css">
    
    <!-- Favicon -->
    <link rel="icon" href="../assets/images/favicon.ico" type="image/x-icon">
    
    <!-- 構造化データ -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "[記事タイトル]",
      "description": "[記事の説明文]",
      "author": {
        "@type": "Person",
        "name": "田中太郎"
      },
      "datePublished": "[YYYY-MM-DD]",
      "dateModified": "[YYYY-MM-DD]",
      "publisher": {
        "@type": "Organization",
        "name": "あたらしいビジネス",
        "logo": {
          "@type": "ImageObject",
          "url": "https://yoursite.com/assets/images/logo.png"
        }
      }
    }
    </script>
</head>
<body>
    <!-- ヘッダー（統一） -->
    <header class="site-header">
        <div class="header-container">
            <div class="site-logo-text">
                <a href="../index.html">あたらしいビジネス</a>
            </div>
            <nav class="global-nav">
                <ul>
                    <li><a href="../index.html">ホーム</a></li>
                    <li><a href="../about.html">プロフィール</a></li>
                    <li><a href="../service.html">サービス</a></li>
                    <li><a href="index.html">ブログ</a></li>
                    <li><a href="../free-consultation.html">無料相談</a></li>
                </ul>
            </nav>
            <button class="hamburger-button" aria-label="メニューを開く">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="mobile-menu">
                <ul>
                    <li><a href="../index.html">ホーム</a></li>
                    <li><a href="../about.html">プロフィール</a></li>
                    <li><a href="../service.html">サービス</a></li>
                    <li><a href="index.html">ブログ</a></li>
                    <li><a href="../free-consultation.html">無料相談</a></li>
                </ul>
            </div>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main class="main-container">
        <!-- 記事タイトル -->
        <div class="article-page-title">
            <h1>[記事タイトル]</h1>
            <div class="article-page-meta">
                <span>📅 [YYYY年MM月DD日]</span>
                <span>📂 [カテゴリ]</span>
                <span>👤 田中太郎</span>
            </div>
        </div>

        <!-- 目次（記事冒頭） -->
        <section class="article-toc">
            <h2>📋 この記事の内容</h2>
            <ul class="toc-list">
                <li><a href="#section1">1. [見出し1]</a></li>
                <li><a href="#section2">2. [見出し2]</a></li>
                <li><a href="#section3">3. [見出し3]</a></li>
                <li><a href="#section4">4. [見出し4]</a></li>
                <li><a href="#section5">5. まとめ</a></li>
            </ul>
        </section>

        <!-- メイン記事コンテンツ -->
        <article class="article-main">
            <!-- 記事の進捗表示バー -->
            <div class="reading-progress"></div>
            
            <!-- 浮動目次 -->
            <nav class="floating-toc" id="floatingToc">
                <h4 class="floating-toc-title">目次</h4>
                <ul>
                    <li><a href="#section1" data-target="section1">導入・概要</a></li>
                    <li><a href="#section2" data-target="section2">主要な内容</a></li>
                    <li><a href="#section3" data-target="section3">具体的な手順</a></li>
                    <li><a href="#section4" data-target="section4">詳細解説</a></li>
                    <li><a href="#section5" data-target="section5">まとめ</a></li>
                </ul>
            </nav>

            <!-- トップに戻るボタン -->
            <button class="back-to-top" id="backToTop" aria-label="ページトップに戻る">
                ↑
            </button>

            <div class="article-content">
                <!-- 導入部分 -->
                <p>記事の導入文をここに書きます。読者の悩みや関心を引きつける内容で始めましょう。</p>

                <!-- セクション1 -->
                <h2 id="section1">[見出し1]</h2>
                <p>ここに内容を書きます。具体的で分かりやすい説明を心がけましょう。</p>

                <h3>[小見出し1-1]</h3>
                <p>詳細な説明をここに追加します。</p>

                <ul>
                    <li>ポイント1</li>
                    <li>ポイント2</li>
                    <li>ポイント3</li>
                </ul>

                <!-- セクション2 -->
                <h2 id="section2">[見出し2]</h2>
                <p>次のセクションの内容です。<span class="highlight-yellow">重要な部分はハイライト</span>で強調できます。</p>                <blockquote>
                    重要な引用や注意点はblockquoteタグで目立たせることができます。
                </blockquote>

                <!-- キャラクター吹き出しの例 -->
                <div class="character-dialogue">
                    <div class="character-item yuki">
                        <img src="../assets/images/profile-YUKI.webp" alt="YUKI" class="character-avatar">
                        <div class="character-content">
                            <div class="character-name">YUKI</div>
                            <div class="character-message">
                                ここにYUKIのコメントを入力します。専門的な知識やアドバイスを提供する役割です。
                            </div>
                        </div>
                    </div>
                    <div class="character-item nyanta">
                        <img src="../assets/images/profile-nyanta.webp" alt="ニャン太" class="character-avatar">
                        <div class="character-content">
                            <div class="character-name">ニャン太</div>
                            <div class="character-message">
                                ニャー！ここにニャン太のコメントを入力するニャ！読者目線での疑問や感想を表現する役割だニャ！😸
                            </div>
                        </div>
                    </div>
                </div>

                <!-- セクション3 -->
                <h2 id="section3">[見出し3]</h2>
                <p><span class="text-red">重要</span>な情報や<span class="text-blue">ポイント</span>は色付きテキストで強調できます。</p>

                <!-- ステップガイドの例 -->
                <div class="step-guide">
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4 class="step-title">準備段階</h4>
                            <p class="step-description">まずは必要な材料や情報を揃えましょう。事前準備が成功の鍵となります。</p>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4 class="step-title">実行段階</h4>
                            <p class="step-description">準備した内容を基に、実際の作業を進めていきます。焦らず一つずつ確実に。</p>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4 class="step-title">確認・改善段階</h4>
                            <p class="step-description">結果を確認し、必要に応じて改善を行います。継続的な改善が重要です。</p>
                        </div>
                    </div>
                </div>

                <!-- 統計データの例 -->
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-number">95%</div>
                        <div class="stat-label">顧客満足度</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">300+</div>
                        <div class="stat-label">支援企業数</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">24時間</div>
                        <div class="stat-label">平均対応時間</div>
                    </div>
                </div>

                <!-- タブ機能の例 -->
                <div class="tabs-container">
                    <div class="tabs-nav">
                        <button class="tab-button active" data-tab="basic">基本プラン</button>
                        <button class="tab-button" data-tab="standard">スタンダード</button>
                        <button class="tab-button" data-tab="premium">プレミアム</button>
                    </div>
                    <div class="tab-content">
                        <div class="tab-panel active" id="basic">
                            <h4>基本プランの内容</h4>
                            <p>初心者の方におすすめの基本的なサービス内容をご提供します。</p>
                            <ul>
                                <li>月1回の定期面談</li>
                                <li>メールサポート</li>
                                <li>基本資料の提供</li>
                            </ul>
                        </div>
                        <div class="tab-panel" id="standard">
                            <h4>スタンダードプランの内容</h4>
                            <p>本格的にビジネスを成長させたい方向けのプランです。</p>
                            <ul>
                                <li>月2回の定期面談</li>
                                <li>電話・メールサポート</li>
                                <li>カスタム資料の作成</li>
                                <li>グループコンサルティング</li>
                            </ul>
                        </div>
                        <div class="tab-panel" id="premium">
                            <h4>プレミアムプランの内容</h4>
                            <p>最高レベルのサポートを受けたい方向けの特別プランです。</p>
                            <ul>
                                <li>週1回の定期面談</li>
                                <li>24時間サポート</li>
                                <li>専用コンサルタント</li>
                                <li>個別戦略立案</li>
                                <li>実装サポート</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <h3>[小見出し3-1]</h3>
                <p>具体例や詳細説明をここに書きます。</p>                <!-- インタラクティブコードブロックの例 -->
                <div class="interactive-code">
                    <div class="code-toolbar">
                        <span class="code-language">JavaScript</span>
                        <div class="code-actions">
                            <button class="code-action-btn" onclick="copyCode(this)">コピー</button>
                            <button class="code-action-btn" onclick="runCode(this)">実行</button>
                        </div>
                    </div>
                    <pre><code>// JavaScriptのサンプルコード
function calculateROI(investment, profit) {
    const roi = ((profit - investment) / investment) * 100;
    return Math.round(roi * 100) / 100;
}

const result = calculateROI(1000, 1500);
console.log(`ROI: ${result}%`);
</code></pre>
                </div>

                <!-- ライブプレビュー要素の例 -->
                <div class="live-preview">
                    <h4>ROI計算機（ライブプレビュー）</h4>
                    <div class="preview-controls">
                        <div class="preview-control">
                            <label class="preview-label" for="investment">投資額</label>
                            <input type="number" id="investment" class="preview-input" value="1000" onchange="updateROI()">
                        </div>
                        <div class="preview-control">
                            <label class="preview-label" for="profit">利益</label>
                            <input type="number" id="profit" class="preview-input" value="1500" onchange="updateROI()">
                        </div>
                    </div>
                    <div class="preview-result" id="roiResult">
                        ROI: 50%
                    </div>
                </div>

                <!-- FAQ（アコーディオン）の例 -->
                <div class="accordion-container">
                    <div class="accordion-item">
                        <button class="accordion-header">
                            <h4 class="accordion-title">Q. サービスの導入にはどれくらい時間がかかりますか？</h4>
                            <span class="accordion-icon">▼</span>
                        </button>
                        <div class="accordion-content">
                            <p>通常、初回相談から実際のサービス開始まで約1〜2週間程度お時間をいただいております。お客様の状況により前後する場合がありますので、詳細は個別にご相談ください。</p>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <button class="accordion-header">
                            <h4 class="accordion-title">Q. 料金の支払い方法はどうなっていますか？</h4>
                            <span class="accordion-icon">▼</span>
                        </button>
                        <div class="accordion-content">
                            <p>クレジットカード、銀行振込、口座振替に対応しております。月額プランの場合は毎月自動決済、年額プランの場合は一括払いとなります。</p>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <button class="accordion-header">
                            <h4 class="accordion-title">Q. 契約後のサポート体制について教えてください</h4>
                            <span class="accordion-icon">▼</span>
                        </button>
                        <div class="accordion-content">
                            <p>専用のサポートチームが平日9:00〜18:00でサポートいたします。緊急時は24時間対応も可能です。また、定期的な進捗確認とフィードバックも実施いたします。</p>
                        </div>
                    </div>
                </div>                <!-- インタラクティブ統計表示の例 -->
                <div class="interactive-stats">
                    <div class="stat-card" data-aos="fade-up">
                        <span class="stat-icon">📈</span>
                        <div class="stat-number" data-target="300">0</div>
                        <div class="stat-label">成功事例</div>
                        <div class="stat-description">これまでサポートしてきた企業数</div>
                    </div>
                    <div class="stat-card" data-aos="fade-up" data-aos-delay="100">
                        <span class="stat-icon">💰</span>
                        <div class="stat-number" data-target="150">0</div>
                        <div class="stat-label">平均売上向上率(%)</div>
                        <div class="stat-description">コンサルティング後の成果</div>
                    </div>
                    <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
                        <span class="stat-icon">⏱️</span>
                        <div class="stat-number" data-target="30">0</div>
                        <div class="stat-label">業務効率化(%)</div>
                        <div class="stat-description">自動化による時間短縮</div>
                    </div>
                    <div class="stat-card" data-aos="fade-up" data-aos-delay="300">
                        <span class="stat-icon">🎯</span>
                        <div class="stat-number" data-target="95">0</div>
                        <div class="stat-label">満足度(%)</div>
                        <div class="stat-description">お客様満足度</div>
                    </div>
                </div>

                <!-- ツールチップ付きテキストの例 -->
                <p>この方法により、
                    <span class="tooltip-container">
                        <span class="highlight-blue">ROI（投資収益率）</span>
                        <div class="tooltip">Return on Investment - 投資に対する収益の割合を示す指標</div>
                    </span>
                    が大幅に改善されることが期待できます。特に
                    <span class="tooltip-container">
                        <span class="highlight-green">自動化プロセス</span>
                        <div class="tooltip">手動作業を機械やソフトウェアで代替する仕組み</div>
                    </span>
                    の導入により、人的コストの削減と品質の向上を同時に実現できます。
                </p>

                <!-- セクション4 -->
                <h2 id="section4">[見出し4]</h2>
                <p>最後のメインセクションです。<span class="highlight-blue">重要なポイント</span>や<span class="highlight-green">成功のコツ</span>などを含めましょう。</p>

                <!-- 比較テーブルの例 -->
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>項目</th>
                            <th>基本プラン</th>
                            <th>スタンダード</th>
                            <th>プレミアム</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>月次面談</td>
                            <td class="check">✓ 1回</td>
                            <td class="check">✓ 2回</td>
                            <td class="check">✓ 4回</td>
                        </tr>
                        <tr>
                            <td>メールサポート</td>
                            <td class="check">✓</td>
                            <td class="check">✓</td>
                            <td class="check">✓</td>
                        </tr>
                        <tr>
                            <td>電話サポート</td>
                            <td class="cross">✗</td>
                            <td class="check">✓</td>
                            <td class="check">✓</td>
                        </tr>
                        <tr>
                            <td>専用コンサルタント</td>
                            <td class="cross">✗</td>
                            <td class="cross">✗</td>
                            <td class="check">✓</td>
                        </tr>
                        <tr>
                            <td>カスタム戦略</td>
                            <td class="cross">✗</td>
                            <td class="check">✓</td>
                            <td class="check">✓</td>
                        </tr>
                    </tbody>
                </table>                <!-- プログレッシブディスクロージャーの例 -->
                <div class="progressive-disclosure">
                    <div class="disclosure-summary" onclick="toggleDisclosure(this)">
                        <h4>詳細な技術仕様と実装方法</h4>
                        <p>実装に必要な技術的な詳細情報をここで確認できます。</p>
                    </div>
                    <div class="disclosure-content">
                        <h5>技術スタック</h5>
                        <ul>
                            <li>フロントエンド: React.js, TypeScript</li>
                            <li>バックエンド: Node.js, Express</li>
                            <li>データベース: PostgreSQL, Redis</li>
                            <li>インフラ: AWS, Docker</li>
                        </ul>
                        <h5>実装手順</h5>
                        <ol>
                            <li>環境セットアップ</li>
                            <li>依存関係のインストール</li>
                            <li>データベース設計</li>
                            <li>API開発</li>
                            <li>フロントエンド実装</li>
                            <li>テスト・デプロイ</li>
                        </ol>
                    </div>
                </div>

                <!-- 比較スライダーの例 -->
                <div class="comparison-slider">
                    <div class="comparison-container">
                        <img src="../assets/images/before-automation.jpg" alt="自動化前" class="comparison-image comparison-after">
                        <img src="../assets/images/after-automation.jpg" alt="自動化後" class="comparison-image comparison-before">
                        <div class="comparison-handle" id="comparisonHandle"></div>
                        <div class="comparison-labels">
                            <span class="comparison-label">自動化前</span>
                            <span class="comparison-label">自動化後</span>
                        </div>
                    </div>
                </div>

                <!-- プログレスバーの例 -->
                <div class="progress-section">
                    <h4>プロジェクト進捗状況</h4>
                    <div class="progress-item">
                        <div class="progress-label">
                            <span>戦略立案</span>
                            <span>100%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div class="progress-label">
                            <span>システム構築</span>
                            <span>75%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 75%"></div>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div class="progress-label">
                            <span>運用開始</span>
                            <span>30%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 30%"></div>
                        </div>
                    </div>
                </div>

                <!-- 画像とキャプションの例 -->
                <div class="image-container">
                    <img src="../assets/images/sample-chart.jpg" alt="サンプルチャート" class="article-image">
                    <div class="image-caption">
                        図1: 売上推移グラフ（2024年度実績）
                    </div>
                </div>

                <!-- コールアウトボックスの例 -->
                <div class="callout-box">
                    <div class="callout-title">重要なポイント</div>
                    <div class="callout-content">
                        ここに特に重要な情報や注意点を記載します。読者の注意を引きつけるために使用してください。
                    </div>
                </div>

                <!-- フォームの例 -->
                <div class="form-container">
                    <h3 class="form-title">お問い合わせフォーム</h3>
                    <form class="contact-form">
                        <div class="form-group">
                            <label class="form-label" for="name">お名前</label>
                            <input type="text" id="name" class="form-input" placeholder="お名前を入力してください">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="email">メールアドレス</label>
                            <input type="email" id="email" class="form-input" placeholder="メールアドレスを入力してください">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="message">メッセージ</label>
                            <textarea id="message" class="form-textarea" placeholder="ご質問やご相談内容をお書きください"></textarea>
                        </div>
                        <button type="submit" class="form-button">送信する</button>
                    </form>
                </div>

                <!-- まとめ -->
                <h2 id="section5">まとめ</h2>
                <p>記事の要点をまとめます。読者が次に取るべきアクションを明確に示しましょう。</p>

                <ul>
                    <li>ポイント1のまとめ</li>
                    <li>ポイント2のまとめ</li>
                    <li>ポイント3のまとめ</li>
                </ul>

                <!-- コンテンツ評価システム -->
                <div class="content-rating">
                    <h3 class="content-rating-title">この記事は役に立ちましたか？</h3>
                    <div class="rating-buttons">
                        <button class="rating-button" onclick="submitRating('helpful')">
                            <span>👍</span>
                            <span>役に立った</span>
                        </button>
                        <button class="rating-button" onclick="submitRating('neutral')">
                            <span>😐</span>
                            <span>普通</span>
                        </button>
                        <button class="rating-button" onclick="submitRating('not-helpful')">
                            <span>👎</span>
                            <span>改善が必要</span>
                        </button>
                    </div>
                    <div class="rating-feedback" id="ratingFeedback">
                        フィードバックをありがとうございます！今後のコンテンツ改善に活用させていただきます。
                    </div>
                </div>

                <!-- カード型コンテンツの例（改良版） -->
                <div class="content-cards">
                    <div class="content-card">
                        <div class="content-card-icon">💡</div>
                        <h4 class="content-card-title">戦略立案</h4>
                        <p class="content-card-description">お客様のビジネスに最適化された独自の戦略を立案いたします。市場分析から競合調査まで幅広くサポート。</p>
                    </div>
                    <div class="content-card">
                        <div class="content-card-icon">🚀</div>
                        <h4 class="content-card-title">実装支援</h4>
                        <p class="content-card-description">立案した戦略の実装をトータルサポート。技術的な課題から人材育成まで包括的に支援いたします。</p>
                    </div>
                    <div class="content-card">
                        <div class="content-card-icon">📈</div>
                        <h4 class="content-card-title">成果測定</h4>
                        <p class="content-card-description">定期的な成果測定と改善提案を実施。データに基づいた継続的な最適化をお約束します。</p>
                    </div>
                </div>
            </div>
        </article>

        <!-- スマートサイドバー -->
        <aside class="smart-sidebar">
            <div class="sidebar-section">
                <div class="sidebar-header">
                    <i class="icon">📊</i>
                    記事統計
                </div>
                <div class="sidebar-content">
                    <div class="reading-stats">
                        <div class="stat-row">
                            <span>読了時間:</span>
                            <span id="reading-time">8分</span>
                        </div>
                        <div class="stat-row">
                            <span>文字数:</span>
                            <span id="word-count">3,200文字</span>
                        </div>
                        <div class="stat-row">
                            <span>最終更新:</span>
                            <span>2024年1月</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-header">
                    <i class="icon">🏷️</i>
                    タグ
                </div>
                <div class="sidebar-content">
                    <div class="tag-cloud">
                        <span class="tag-item" data-weight="high">Webデザイン</span>
                        <span class="tag-item" data-weight="medium">UI/UX</span>
                        <span class="tag-item" data-weight="high">CSS</span>
                        <span class="tag-item" data-weight="low">アニメーション</span>
                        <span class="tag-item" data-weight="medium">レスポンシブ</span>
                        <span class="tag-item" data-weight="high">JavaScript</span>
                        <span class="tag-item" data-weight="low">HTML</span>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-header">
                    <i class="icon">📚</i>
                    関連記事
                </div>
                <div class="sidebar-content">
                    <div class="related-articles">
                        <article class="related-article">
                            <img src="../assets/images/blog-sample.jpg" alt="関連記事1" class="related-thumbnail">
                            <div class="related-content">
                                <h4 class="related-title">モダンWebデザインの基本原則</h4>
                                <p class="related-excerpt">効果的なWebデザインを作るための基本的な原則とテクニック...</p>
                                <span class="related-date">2024年1月10日</span>
                            </div>
                        </article>
                        <article class="related-article">
                            <img src="../assets/images/blog-sample.jpg" alt="関連記事2" class="related-thumbnail">
                            <div class="related-content">
                                <h4 class="related-title">CSS Grid完全ガイド</h4>
                                <p class="related-excerpt">CSS Gridを使用したレイアウトの作成方法を詳しく解説...</p>
                                <span class="related-date">2023年12月28日</span>
                            </div>
                        </article>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-header">
                    <i class="icon">👤</i>
                    著者について
                </div>
                <div class="sidebar-content">
                    <div class="author-card">
                        <img src="../assets/images/profile.jpg" alt="著者アバター" class="author-avatar">
                        <div class="author-info">
                            <h4 class="author-name">田中太郎</h4>
                            <p class="author-bio">フロントエンド開発者として10年の経験を持つ。モダンなWebテクノロジーの専門家。</p>
                            <div class="author-social">
                                <a href="#" class="social-link">🐦</a>
                                <a href="#" class="social-link">💼</a>
                                <a href="#" class="social-link">🌐</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-header">
                    <i class="icon">📧</i>
                    ニュースレター
                </div>
                <div class="sidebar-content">
                    <div class="newsletter-signup">
                        <p>最新の記事とテクニックを受け取る</p>
                        <form class="newsletter-form">
                            <input type="email" placeholder="メールアドレス" class="newsletter-input" required>
                            <button type="submit" class="newsletter-button">購読</button>
                        </form>
                    </div>
                </div>
            </div>
        </aside>

        <!-- 浮動目次 -->
        <div class="floating-toc-placeholder"></div>
    </main>

    <!-- フッター（統一） -->
    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>サービス</h4>
                    <ul>
                        <li><a href="../service.html">ビジネスコンサルティング</a></li>
                        <li><a href="../course/index.html">オンライン講座</a></li>
                        <li><a href="../free-consultation.html">無料相談</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>コンテンツ</h4>
                    <ul>
                        <li><a href="index.html">ブログ</a></li>
                        <li><a href="../achievement/index.html">実績紹介</a></li>
                        <li><a href="../seminar/index.html">セミナー情報</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>会社情報</h4>
                    <ul>
                        <li><a href="../about.html">プロフィール</a></li>
                        <li><a href="../privacy.html">プライバシーポリシー</a></li>
                        <li><a href="../terms.html">利用規約</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 あたらしいビジネス. All rights reserved.</p>
                <div class="footer-social">
                    <a href="#" aria-label="Twitter">🐦</a>
                    <a href="#" aria-label="Facebook">📘</a>
                    <a href="#" aria-label="YouTube">📺</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // ハンバーガーメニューの動作
        document.querySelector('.hamburger-button').addEventListener('click', function() {
            document.querySelector('.mobile-menu').classList.toggle('active');
        });

        // スムーズスクロール
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // タブ機能
        function initTabs() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanels = document.querySelectorAll('.tab-panel');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.getAttribute('data-tab');

                    // すべてのタブボタンとパネルから active クラスを削除
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabPanels.forEach(panel => panel.classList.remove('active'));

                    // クリックされたタブボタンと対応するパネルに active クラスを追加
                    button.classList.add('active');
                    document.getElementById(targetTab).classList.add('active');
                });
            });
        }

        // アコーディオン機能
        function initAccordion() {
            const accordionHeaders = document.querySelectorAll('.accordion-header');

            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const isActive = header.classList.contains('active');

                    // 他のアコーディオンを閉じる（オプション）
                    accordionHeaders.forEach(otherHeader => {
                        if (otherHeader !== header) {
                            otherHeader.classList.remove('active');
                            otherHeader.nextElementSibling.classList.remove('active');
                        }
                    });

                    // 現在のアコーディオンをトグル
                    if (isActive) {
                        header.classList.remove('active');
                        content.classList.remove('active');
                    } else {
                        header.classList.add('active');
                        content.classList.add('active');
                    }
                });
            });
        }

        // ソーシャルシェア機能
        function initSocialShare() {
            const shareButtons = document.querySelectorAll('.share-button');
            const currentUrl = encodeURIComponent(window.location.href);
            const currentTitle = encodeURIComponent(document.title);

            shareButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    if (button.classList.contains('share-twitter')) {
                        const twitterUrl = `https://twitter.com/intent/tweet?url=${currentUrl}&text=${currentTitle}`;
                        window.open(twitterUrl, '_blank', 'width=550,height=420');
                    } else if (button.classList.contains('share-facebook')) {
                        const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${currentUrl}`;
                        window.open(facebookUrl, '_blank', 'width=550,height=420');
                    } else if (button.classList.contains('share-line')) {
                        const lineUrl = `https://social-plugins.line.me/lineit/share?url=${currentUrl}`;
                        window.open(lineUrl, '_blank', 'width=550,height=420');
                    } else if (button.classList.contains('share-copy')) {
                        navigator.clipboard.writeText(window.location.href).then(() => {
                            // コピー成功のフィードバック
                            const originalText = button.innerHTML;
                            button.innerHTML = '✓';
                            button.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                            setTimeout(() => {
                                button.innerHTML = originalText;
                                button.style.background = '';
                            }, 2000);
                        });
                    }
                });
            });
        }

        // フォーム送信処理（サンプル）
        function initForms() {
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    // フォームデータの処理（実際の実装では適切なAPIエンドポイントに送信）
                    const formData = new FormData(form);
                    const button = form.querySelector('button[type="submit"]');
                    const originalText = button.textContent;
                    
                    // 送信中の表示
                    button.textContent = '送信中...';
                    button.disabled = true;
                    
                    // サンプル処理（実際は非同期処理）
                    setTimeout(() => {
                        button.textContent = '送信完了！';
                        button.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                        
                        setTimeout(() => {
                            button.textContent = originalText;
                            button.disabled = false;
                            button.style.background = '';
                            form.reset();
                        }, 3000);
                    }, 1000);
                });
            });
        }

        // プログレスバーのアニメーション
        function animateProgressBars() {
            const progressBars = document.querySelectorAll('.progress-fill');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const progressFill = entry.target;
                        const targetWidth = progressFill.style.width;
                        progressFill.style.width = '0%';
                        
                        setTimeout(() => {
                            progressFill.style.width = targetWidth;
                        }, 200);
                    }
                });
            }, { threshold: 0.5 });
            
            progressBars.forEach(bar => observer.observe(bar));
        }

        // 統計カウンターアニメーション
        function animateCounters() {
            const counters = document.querySelectorAll('.stat-number');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = entry.target;
                        const target = parseInt(counter.textContent.replace(/[^\d]/g, ''));
                        const suffix = counter.textContent.replace(/[\d]/g, '');
                        
                        if (!isNaN(target)) {
                            let current = 0;
                            const increment = target / 50;
                            const timer = setInterval(() => {
                                current += increment;
                                if (current >= target) {
                                    counter.textContent = target + suffix;
                                    clearInterval(timer);
                                } else {
                                    counter.textContent = Math.floor(current) + suffix;
                                }
                            }, 40);
                        }
                        
                        observer.unobserve(counter);
                    }
                });
            }, { threshold: 0.5 });
            
            counters.forEach(counter => observer.observe(counter));
        }

        // レイジーローディング画像
        function initLazyLoading() {
            const images = document.querySelectorAll('img[loading="lazy"]');
            
            const imageObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.addEventListener('load', () => {
                            img.classList.add('loaded');
                        });
                        imageObserver.unobserve(img);
                    }
                });
            });
            
            images.forEach(img => imageObserver.observe(img));
        }        // 読み進捗表示（オプション）
        function initReadingProgress() {
            const progressBar = document.createElement('div');
            progressBar.className = 'reading-progress';
            progressBar.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 0%;
                height: 3px;
                background: linear-gradient(90deg, #667eea, #764ba2);
                z-index: 1000;
                transition: width 0.3s ease;
            `;
            document.body.appendChild(progressBar);

            window.addEventListener('scroll', () => {
                const scrollTop = window.pageYOffset;
                const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPercent = (scrollTop / docHeight) * 100;
                progressBar.style.width = scrollPercent + '%';
            });
        }

        // 浮動目次の管理
        function initFloatingToc() {
            const floatingToc = document.getElementById('floatingToc');
            const tocLinks = floatingToc.querySelectorAll('a');
            const sections = document.querySelectorAll('h2[id], h3[id]');
            
            // スクロール位置に応じてTOCの表示/非表示を切り替え
            let tocVisible = false;
            window.addEventListener('scroll', () => {
                const scrollY = window.pageYOffset;
                const shouldShow = scrollY > 400;
                
                if (shouldShow && !tocVisible) {
                    floatingToc.classList.add('show');
                    tocVisible = true;
                } else if (!shouldShow && tocVisible) {
                    floatingToc.classList.remove('show');
                    tocVisible = false;
                }
                
                // アクティブセクションの検出
                let activeSection = null;
                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    if (rect.top <= 100 && rect.bottom >= 100) {
                        activeSection = section.id;
                    }
                });
                
                // TOCのアクティブリンクを更新
                tocLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('data-target') === activeSection) {
                        link.classList.add('active');
                    }
                });
            });
        }

        // トップに戻るボタン
        function initBackToTop() {
            const backToTopBtn = document.getElementById('backToTop');
            
            window.addEventListener('scroll', () => {
                const scrollY = window.pageYOffset;
                if (scrollY > 500) {
                    backToTopBtn.classList.add('show');
                } else {
                    backToTopBtn.classList.remove('show');
                }
            });
            
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }

        // ROI計算機のライブプレビュー
        function updateROI() {
            const investment = parseFloat(document.getElementById('investment').value) || 0;
            const profit = parseFloat(document.getElementById('profit').value) || 0;
            
            if (investment > 0) {
                const roi = ((profit - investment) / investment) * 100;
                const result = Math.round(roi * 100) / 100;
                document.getElementById('roiResult').textContent = `ROI: ${result}%`;
            } else {
                document.getElementById('roiResult').textContent = 'ROI: 計算できません';
            }
        }

        // コードコピー機能
        function copyCode(button) {
            const codeBlock = button.closest('.interactive-code').querySelector('code');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = 'コピー済み!';
                button.style.background = 'rgba(16, 185, 129, 0.2)';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
            });
        }

        // プログレッシブディスクロージャー
        function toggleDisclosure(element) {
            const container = element.parentElement;
            const content = container.querySelector('.disclosure-content');
            
            container.classList.toggle('expanded');
            
            if (container.classList.contains('expanded')) {
                content.classList.add('expanded');
            } else {
                content.classList.remove('expanded');
            }
        }

        // 比較スライダー
        function initComparisonSlider() {
            const slider = document.getElementById('comparisonHandle');
            if (!slider) return;
            
            const container = slider.parentElement;
            const beforeImage = container.querySelector('.comparison-before');
            let isResizing = false;
            
            slider.addEventListener('mousedown', (e) => {
                isResizing = true;
                e.preventDefault();
            });
            
            document.addEventListener('mousemove', (e) => {
                if (!isResizing) return;
                
                const rect = container.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const percentage = (x / rect.width) * 100;
                
                if (percentage >= 0 && percentage <= 100) {
                    slider.style.left = percentage + '%';
                    beforeImage.style.clipPath = `polygon(0 0, ${percentage}% 0, ${percentage}% 100%, 0 100%)`;
                }
            });
            
            document.addEventListener('mouseup', () => {
                isResizing = false;
            });
            
            // タッチイベント対応
            slider.addEventListener('touchstart', (e) => {
                isResizing = true;
                e.preventDefault();
            });
            
            document.addEventListener('touchmove', (e) => {
                if (!isResizing) return;
                
                const rect = container.getBoundingClientRect();
                const x = e.touches[0].clientX - rect.left;
                const percentage = (x / rect.width) * 100;
                
                if (percentage >= 0 && percentage <= 100) {
                    slider.style.left = percentage + '%';
                    beforeImage.style.clipPath = `polygon(0 0, ${percentage}% 0, ${percentage}% 100%, 0 100%)`;
                }
            });
            
            document.addEventListener('touchend', () => {
                isResizing = false;
            });
        }

        // コンテンツ評価システム
        function submitRating(rating) {
            const buttons = document.querySelectorAll('.rating-button');
            const feedback = document.getElementById('ratingFeedback');
            
            buttons.forEach(btn => btn.classList.remove('selected'));
            event.target.closest('.rating-button').classList.add('selected');
            
            // 実際のプロジェクトでは、ここでAPIに評価を送信
            console.log('Rating submitted:', rating);
            
            feedback.classList.add('show');
            
            // フィードバックメッセージをカスタマイズ
            switch(rating) {
                case 'helpful':
                    feedback.textContent = 'ありがとうございます！今後も役立つコンテンツを提供してまいります。';
                    break;
                case 'neutral':
                    feedback.textContent = 'フィードバックをありがとうございます。さらに改善に努めます。';
                    break;
                case 'not-helpful':
                    feedback.textContent = 'ご意見をありがとうございます。コンテンツの改善に活用させていただきます。';
                    break;
            }
        }

        // 高度な統計カウンターアニメーション
        function animateAdvancedCounters() {
            const counters = document.querySelectorAll('.stat-number[data-target]');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = entry.target;
                        const target = parseInt(counter.getAttribute('data-target'));
                        
                        if (!counter.hasAttribute('data-animated')) {
                            counter.setAttribute('data-animated', 'true');
                            
                            let current = 0;
                            const increment = target / 60; // 60フレームで完了
                            const timer = setInterval(() => {
                                current += increment;
                                if (current >= target) {
                                    counter.textContent = target;
                                    clearInterval(timer);
                                } else {
                                    counter.textContent = Math.floor(current);
                                }
                            }, 16.67); // 60FPS
                        }
                        
                        observer.unobserve(counter);
                    }
                });
            }, { threshold: 0.5 });
            
            counters.forEach(counter => observer.observe(counter));
        }

        // トップに戻るボタンの動作
        document.getElementById('backToTop').addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // 浮動目次のハイライト
        const floatingTocLinks = document.querySelectorAll('.floating-toc a');
        const sections = document.querySelectorAll('h2, h3');

        function highlightTocLink() {
            let index = sections.length - 1;

            for (let i = 0; i < sections.length; i++) {
                const section = sections[i];
                const rect = section.getBoundingClientRect();

                if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
                    index = i;
                    break;
                }
            }

            floatingTocLinks.forEach(link => link.classList.remove('active'));
            if (floatingTocLinks[index]) {
                floatingTocLinks[index].classList.add('active');
            }
        }

        window.addEventListener('scroll', highlightTocLink);        // 初期化
        document.addEventListener('DOMContentLoaded', function() {
            initTabs();
            initAccordion();
            initSocialShare();
            initForms();
            animateProgressBars();
            animateCounters();
            animateAdvancedCounters();
            initLazyLoading();
            initReadingProgress();
            initFloatingToc();
            initBackToTop();
            initComparisonSlider();
            updateROI(); // 初期計算
            
            console.log('ブログテンプレート統合システム初期化完了 - 新機能追加版');
        });

        // 浮動アクションボタンの機能
        function initFloatingActions() {
            const floatingActions = document.querySelectorAll('.floating-action-btn');
            
            // スクロールに応じて表示/非表示
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                floatingActions.forEach((btn, index) => {
                    if (scrollTop > 300) {
                        setTimeout(() => {
                            btn.classList.add('visible');
                        }, index * 100);
                    } else {
                        btn.classList.remove('visible');
                    }
                });
            });

            // ダークモード切替
            document.getElementById('darkModeToggle').addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                const isDarkMode = document.body.classList.contains('dark-mode');
                this.textContent = isDarkMode ? '☀️' : '🌙';
                localStorage.setItem('darkMode', isDarkMode);
            });

            // 文字サイズ調整
            let currentFontSize = 100;
            document.getElementById('fontSizeToggle').addEventListener('click', function() {
                currentFontSize = currentFontSize === 100 ? 110 : currentFontSize === 110 ? 120 : 100;
                document.documentElement.style.fontSize = currentFontSize + '%';
                localStorage.setItem('fontSize', currentFontSize);
                
                // フィードバック表示
                showToast(`文字サイズ: ${currentFontSize}%`);
            });

            // 印刷機能
            document.getElementById('printArticle').addEventListener('click', function() {
                // 印刷用スタイルを適用
                const printWindow = window.open('', '_blank');
                const articleContent = document.querySelector('article').outerHTML;
                printWindow.document.write(`
                    <html>
                        <head>
                            <title>印刷用 - ${document.title}</title>
                            <style>
                                body { font-family: serif; line-height: 1.6; max-width: none; margin: 0; padding: 20px; }
                                .floating-toc, .smart-sidebar, .floating-actions, .back-to-top { display: none !important; }
                                img { max-width: 100%; height: auto; }
                                .article-header { border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
                            </style>
                        </head>
                        <body>${articleContent}</body>
                    </html>
                `);
                printWindow.document.close();
                setTimeout(() => {
                    printWindow.print();
                    printWindow.close();
                }, 500);
            });

            // シェア機能
            document.getElementById('shareArticle').addEventListener('click', function() {
                if (navigator.share) {
                    navigator.share({
                        title: document.title,
                        text: document.querySelector('meta[name="description"]')?.content || '',
                        url: window.location.href
                    }).catch(console.error);
                } else {
                    // フォールバック: クリップボードにURL をコピー
                    navigator.clipboard.writeText(window.location.href).then(() => {
                        showToast('URLをクリップボードにコピーしました');
                    }).catch(() => {
                        showToast('シェア機能が利用できません');
                    });
                }
            });
        }

        // トースト通知システム
        function showToast(message, duration = 3000) {
            const toast = document.createElement('div');
            toast.className = 'toast-notification';
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                bottom: 100px;
                left: 50%;
                transform: translateX(-50%);
                background: var(--primary-color);
                color: white;
                padding: 12px 24px;
                border-radius: 25px;
                font-size: 14px;
                font-weight: 500;
                z-index: 10000;
                opacity: 0;
                transition: all 0.3s ease;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            `;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '1';
                toast.style.transform = 'translateX(-50%) translateY(-10px)';
            }, 100);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(-50%) translateY(10px)';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, duration);
        }

        // 動的文字数・読了時間計算
        function updateReadingStats() {
            const articleContent = document.querySelector('.article-content');
            if (!articleContent) return;
            
            const text = articleContent.textContent || articleContent.innerText;
            const wordCount = text.length;
            const readingTime = Math.ceil(wordCount / 400); // 日本語の平均読速度
            
            const wordCountElement = document.getElementById('word-count');
            const readingTimeElement = document.getElementById('reading-time');
            
            if (wordCountElement) {
                wordCountElement.textContent = `${wordCount.toLocaleString()}文字`;
            }
            if (readingTimeElement) {
                readingTimeElement.textContent = `${readingTime}分`;
            }
        }

        // スマートサイドバーの動的読み込み
        function initSmartSidebar() {
            const sidebar = document.querySelector('.smart-sidebar');
            if (!sidebar) return;

            // スクロールに応じてサイドバーの表示状態を調整
            let ticking = false;
            
            function updateSidebar() {
                const scrollTop = window.pageYOffset;
                const windowHeight = window.innerHeight;
                const documentHeight = document.documentElement.scrollHeight;
                
                // サイドバーの表示状態を調整
                if (scrollTop > 200) {
                    sidebar.style.opacity = '1';
                    sidebar.style.transform = 'translateY(0)';
                } else {
                    sidebar.style.opacity = '0.7';
                    sidebar.style.transform = 'translateY(20px)';
                }
                
                ticking = false;
            }
            
            function requestTick() {
                if (!ticking) {
                    requestAnimationFrame(updateSidebar);
                    ticking = true;
                }
            }
            
            window.addEventListener('scroll', requestTick);
        }

        // 検索機能
        function initSearchFeature() {
            const searchButton = document.createElement('button');
            searchButton.className = 'floating-action-btn search-btn';
            searchButton.innerHTML = '🔍';
            searchButton.title = '記事内検索';
            
            document.querySelector('.floating-actions').appendChild(searchButton);
            
            searchButton.addEventListener('click', function() {
                const searchTerm = prompt('検索したいキーワードを入力してください:');
                if (!searchTerm) return;
                
                // 既存のハイライトをクリア
                clearHighlights();
                
                // 新しいハイライトを適用
                const articleContent = document.querySelector('.article-content');
                highlightText(articleContent, searchTerm);
            });
        }

        function highlightText(element, searchTerm) {
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );
            
            const textNodes = [];
            let node;
            
            while (node = walker.nextNode()) {
                textNodes.push(node);
            }
            
            textNodes.forEach(textNode => {
                const parent = textNode.parentNode;
                if (parent.tagName === 'SCRIPT' || parent.tagName === 'STYLE') return;
                
                const regex = new RegExp(`(${searchTerm})`, 'gi');
                const text = textNode.textContent;
                
                if (regex.test(text)) {
                    const highlightedHTML = text.replace(regex, '<mark class="search-highlight">$1</mark>');
                    const wrapper = document.createElement('span');
                    wrapper.innerHTML = highlightedHTML;
                    parent.replaceChild(wrapper, textNode);
                }
            });
            
            // 最初のハイライトにスクロール
            const firstHighlight = document.querySelector('.search-highlight');
            if (firstHighlight) {
                firstHighlight.scrollIntoView({ behavior: 'smooth', block: 'center' });
                showToast(`"${searchTerm}" が見つかりました`);
            } else {
                showToast(`"${searchTerm}" は見つかりませんでした`);
            }
        }

        function clearHighlights() {
            const highlights = document.querySelectorAll('.search-highlight');
            highlights.forEach(highlight => {
                const parent = highlight.parentNode;
                parent.replaceChild(document.createTextNode(highlight.textContent), highlight);
                parent.normalize();
            });
        }

        // ローカルストレージから設定を復元
        function restoreUserSettings() {
            // ダークモード設定の復元
            const isDarkMode = localStorage.getItem('darkMode') === 'true';
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                const darkModeBtn = document.getElementById('darkModeToggle');
                if (darkModeBtn) darkModeBtn.textContent = '☀️';
            }
            
            // フォントサイズ設定の復元
            const fontSize = localStorage.getItem('fontSize');
            if (fontSize) {
                document.documentElement.style.fontSize = fontSize + '%';
            }
        }

        window.addEventListener('scroll', highlightTocLink);        // 初期化
        document.addEventListener('DOMContentLoaded', function() {
            initTabs();
            initAccordion();
            initSocialShare();
            initForms();
            animateProgressBars();
            animateCounters();
            animateAdvancedCounters();
            initLazyLoading();
            initReadingProgress();
            initFloatingToc();
            initBackToTop();
            initComparisonSlider();
            updateROI(); // 初期計算
            
            console.log('ブログテンプレート統合システム初期化完了 - 新機能追加版');
        });

        // 浮動アクションボタンの機能
        function initFloatingActions() {
            const floatingActions = document.querySelectorAll('.floating-action-btn');
            
            // スクロールに応じて表示/非表示
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                floatingActions.forEach((btn, index) => {
                    if (scrollTop > 300) {
                        setTimeout(() => {
                            btn.classList.add('visible');
                        }, index * 100);
                    } else {
                        btn.classList.remove('visible');
                    }
                });
            });

            // ダークモード切替
            document.getElementById('darkModeToggle').addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                const isDarkMode = document.body.classList.contains('dark-mode');
                this.textContent = isDarkMode ? '☀️' : '🌙';
                localStorage.setItem('darkMode', isDarkMode);
            });

            // 文字サイズ調整
            let currentFontSize = 100;
            document.getElementById('fontSizeToggle').addEventListener('click', function() {
                currentFontSize = currentFontSize === 100 ? 110 : currentFontSize === 110 ? 120 : 100;
                document.documentElement.style.fontSize = currentFontSize + '%';
                localStorage.setItem('fontSize', currentFontSize);
                
                // フィードバック表示
                showToast(`文字サイズ: ${currentFontSize}%`);
            });

            // 印刷機能
            document.getElementById('printArticle').addEventListener('click', function() {
                // 印刷用スタイルを適用
                const printWindow = window.open('', '_blank');
                const articleContent = document.querySelector('article').outerHTML;
                printWindow.document.write(`
                    <html>
                        <head>
                            <title>印刷用 - ${document.title}</title>
                            <style>
                                body { font-family: serif; line-height: 1.6; max-width: none; margin: 0; padding: 20px; }
                                .floating-toc, .smart-sidebar, .floating-actions, .back-to-top { display: none !important; }
                                img { max-width: 100%; height: auto; }
                                .article-header { border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
                            </style>
                        </head>
                        <body>${articleContent}</body>
                    </html>
                `);
                printWindow.document.close();
                setTimeout(() => {
                    printWindow.print();
                    printWindow.close();
                }, 500);
            });

            // シェア機能
            document.getElementById('shareArticle').addEventListener('click', function() {
                if (navigator.share) {
                    navigator.share({
                        title: document.title,
                        text: document.querySelector('meta[name="description"]')?.content || '',
                        url: window.location.href
                    }).catch(console.error);
                } else {
                    // フォールバック: クリップボードにURL をコピー
                    navigator.clipboard.writeText(window.location.href).then(() => {
                        showToast('URLをクリップボードにコピーしました');
                    }).catch(() => {
                        showToast('シェア機能が利用できません');
                    });
                }
            });
        }

        // トースト通知システム
        function showToast(message, duration = 3000) {
            const toast = document.createElement('div');
            toast.className = 'toast-notification';
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                bottom: 100px;
                left: 50%;
                transform: translateX(-50%);
                background: var(--primary-color);
                color: white;
                padding: 12px 24px;
                border-radius: 25px;
                font-size: 14px;
                font-weight: 500;
                z-index: 10000;
                opacity: 0;
                transition: all 0.3s ease;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            `;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '1';
                toast.style.transform = 'translateX(-50%) translateY(-10px)';
            }, 100);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(-50%) translateY(10px)';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, duration);
        }

        // 動的文字数・読了時間計算
        function updateReadingStats() {
            const articleContent = document.querySelector('.article-content');
            if (!articleContent) return;
            
            const text = articleContent.textContent || articleContent.innerText;
            const wordCount = text.length;
            const readingTime = Math.ceil(wordCount / 400); // 日本語の平均読速度
            
            const wordCountElement = document.getElementById('word-count');
            const readingTimeElement = document.getElementById('reading-time');
            
            if (wordCountElement) {
                wordCountElement.textContent = `${wordCount.toLocaleString()}文字`;
            }
            if (readingTimeElement) {
                readingTimeElement.textContent = `${readingTime}分`;
            }
        }

        // スマートサイドバーの動的読み込み
        function initSmartSidebar() {
            const sidebar = document.querySelector('.smart-sidebar');
            if (!sidebar) return;

            // スクロールに応じてサイドバーの表示状態を調整
            let ticking = false;
            
            function updateSidebar() {
                const scrollTop = window.pageYOffset;
                const windowHeight = window.innerHeight;
                const documentHeight = document.documentElement.scrollHeight;
                
                // サイドバーの表示状態を調整
                if (scrollTop > 200) {
                    sidebar.style.opacity = '1';
                    sidebar.style.transform = 'translateY(0)';
                } else {
                    sidebar.style.opacity = '0.7';
                    sidebar.style.transform = 'translateY(20px)';
                }
                
                ticking = false;
            }
            
            function requestTick() {
                if (!ticking) {
                    requestAnimationFrame(updateSidebar);
                    ticking = true;
                }
            }
            
            window.addEventListener('scroll', requestTick);
        }

        // 検索機能
        function initSearchFeature() {
            const searchButton = document.createElement('button');
            searchButton.className = 'floating-action-btn search-btn';
            searchButton.innerHTML = '🔍';
            searchButton.title = '記事内検索';
            
            document.querySelector('.floating-actions').appendChild(searchButton);
            
            searchButton.addEventListener('click', function() {
                const searchTerm = prompt('検索したいキーワードを入力してください:');
                if (!searchTerm) return;
                
                // 既存のハイライトをクリア
                clearHighlights();
                
                // 新しいハイライトを適用
                const articleContent = document.querySelector('.article-content');
                highlightText(articleContent, searchTerm);
            });
        }

        function highlightText(element, searchTerm) {
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );
            
            const textNodes = [];
            let node;
            
            while (node = walker.nextNode()) {
                textNodes.push(node);
            }
            
            textNodes.forEach(textNode => {
                const parent = textNode.parentNode;
                if (parent.tagName === 'SCRIPT' || parent.tagName === 'STYLE') return;
                
                const regex = new RegExp(`(${searchTerm})`, 'gi');
                const text = textNode.textContent;
                
                if (regex.test(text)) {
                    const highlightedHTML = text.replace(regex, '<mark class="search-highlight">$1</mark>');
                    const wrapper = document.createElement('span');
                    wrapper.innerHTML = highlightedHTML;
                    parent.replaceChild(wrapper, textNode);
                }
            });
            
            // 最初のハイライトにスクロール
            const firstHighlight = document.querySelector('.search-highlight');
            if (firstHighlight) {
                firstHighlight.scrollIntoView({ behavior: 'smooth', block: 'center' });
                showToast(`"${searchTerm}" が見つかりました`);
            } else {
                showToast(`"${searchTerm}" は見つかりませんでした`);
            }
        }

        function clearHighlights() {
            const highlights = document.querySelectorAll('.search-highlight');
            highlights.forEach(highlight => {
                const parent = highlight.parentNode;
                parent.replaceChild(document.createTextNode(highlight.textContent), highlight);
                parent.normalize();
            });
        }

        // ローカルストレージから設定を復元
        function restoreUserSettings() {
            // ダークモード設定の復元
            const isDarkMode = localStorage.getItem('darkMode') === 'true';
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                const darkModeBtn = document.getElementById('darkModeToggle');
                if (darkModeBtn) darkModeBtn.textContent = '☀️';
            }
            
            // フォントサイズ設定の復元
            const fontSize = localStorage.getItem('fontSize');
            if (fontSize) {
                document.documentElement.style.fontSize = fontSize + '%';
            }
        }

        window.addEventListener('scroll', highlightTocLink);        // 初期化        document.addEventListener('DOMContentLoaded', function() {
            restoreUserSettings();
            initTabs();
            initAccordion();
            initSocialShare();
            initForms();
            animateProgressBars();
            animateCounters();
            animateAdvancedCounters();
            initLazyLoading();
            initReadingProgress();
            initFloatingToc();
            initBackToTop();
            initComparisonSlider();
            initFloatingActions();
            initSmartSidebar();
            initSearchFeature();
            updateReadingStats();
            updateROI(); // 初期計算
            
            console.log('ブログテンプレート統合システム初期化完了 - 完全版v2.0');
        });
    </script>
</body>
</html>
